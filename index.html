
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4QYBNMVWWR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-4QYBNMVWWR');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ageint Security Support Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFFFF;
        }

        .splash-fade-out {
            opacity: 0;
            transition: opacity 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
        }

        .fade-out-fast {
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
        }

        .scale-in {
            opacity: 0;
            animation: scaleIn 0.8s ease-out forwards;
        }

        .view-transition {
            transition: opacity 0.3s ease-in-out;
        }

        /* Tutorial Styles */
        .tutorial-step-card {
            background-color: #f9fafb;
            /* gray-50 */
            border: 1px solid #e5e7eb;
            /* gray-200 */
            border-radius: 0.75rem;
            /* rounded-xl */
            padding: 1.5rem;
            /* p-6 */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            /* shadow-md */
        }

        .tutorial-highlight {
            background-color: #dbeafe;
            /* blue-100 */
            color: #1e40af;
            /* blue-800 */
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            /* rounded-md */
            font-weight: 600;
            /* font-semibold */
        }

        .camera-step-badge {
            height: 3rem;
            width: 3rem;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.125rem;
            background-color: #e5e7eb;
            color: #374151;
            transition: all 0.3s ease;
        }

        .camera-step-badge.active {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: #ffffff;
            box-shadow: 0 10px 20px -10px rgba(37, 99, 235, 0.5);
        }

        .camera-step-badge.completed {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: #ffffff;
        }

        .camera-tip {
            background: #eff6ff;
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 1rem;
            padding: 1rem 1.25rem;
            color: #1d4ed8;
            font-weight: 600;
            display: flex;
            gap: 0.75rem;
            align-items: flex-start;
        }

        .camera-contact-bubble {
            background: linear-gradient(145deg, rgba(59, 130, 246, 0.12), rgba(37, 99, 235, 0.15));
            border: 1px solid rgba(37, 99, 235, 0.15);
            border-radius: 1.25rem;
            padding: 1rem 1.25rem;
            text-align: center;
        }

        .camera-note {
            background: #f9fafb;
            border-radius: 0.75rem;
            padding: 1rem 1.25rem;
            border: 1px dashed rgba(107, 114, 128, 0.6);
            color: #374151;
        }
    </style>
</head>

<body class="bg-white min-h-screen">

    <!-- Header -->
    <header class="fixed top-4 left-1/2 -translate-x-1/2 z-30 w-full max-w-sm">
        <div
            class="relative bg-white/80 backdrop-blur-md shadow-lg rounded-full px-6 py-2 flex items-center justify-center">
            <h2 class="text-xl font-semibold text-gray-700">Ageint Security</h2>
            <button id="infoBtn" class="absolute right-3 top-1/2 -translate-y-1/2 p-2">
                <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/info.png" alt="Info"
                    class="h-6 w-6">
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <div class="min-h-screen flex items-center justify-center p-4 pt-24 pb-16">
        <main
            class="w-full max-w-3xl bg-white rounded-2xl shadow-lg p-6 sm:p-8 text-gray-800 border border-gray-200/80 relative transition-opacity duration-300 opacity-0">

            <!-- Choice View -->
            <div id="choiceView" class="hidden view-transition">
                <div class="space-y-6 text-left">
                    <div
                        class="bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-3xl p-6 sm:p-8 shadow-lg">
                        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6">
                            <div class="flex-1 space-y-3 text-center lg:text-left lg:max-w-2xl">
                                <p
                                    class="inline-flex items-center gap-2 text-xs uppercase tracking-wide font-semibold bg-white/20 px-3 py-1 rounded-full mx-auto lg:mx-0">
                                    Ageint Security</p>
                                <h1 class="text-3xl sm:text-4xl font-black leading-tight">How can we help you today?
                                </h1>
                                <p class="text-white/80 font-medium text-base">Everything you need for system care in
                                    one place: services, troubleshooting guides, and remote support prep.</p>
                            </div>
                            <div class="grid grid-cols-2 gap-3 text-center w-full lg:w-auto lg:max-w-xs">
                                <div class="bg-white/20 rounded-2xl px-3 py-2">
                                    <p class="text-xl font-black">10 min</p>
                                    <p class="text-[10px] uppercase tracking-wide text-white/80">Avg prep</p>
                                </div>
                                <div class="bg-white/20 rounded-2xl px-3 py-2 col-span-2 sm:col-span-1">
                                    <p class="text-xl font-black">Curated</p>
                                    <p class="text-[10px] uppercase tracking-wide text-white/80">by Ageint Security
                                        technicians</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="firmwareAlert" role="alert"
                        class="relative overflow-hidden bg-white border border-yellow-200 rounded-xl p-3 sm:p-4 shadow-sm">
                        <button id="closeFirmwareAlert" aria-label="Close firmware update notification"
                            class="absolute top-2 right-2 text-yellow-600 hover:text-yellow-800">
                            <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                <title>Close</title>
                                <path
                                    d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
                            </svg>
                        </button>
                        <div class="flex flex-col sm:flex-row gap-3 sm:items-center">
                            <div class="flex items-start gap-3 text-yellow-800">
                                <div
                                    class="h-10 w-10 rounded-xl bg-yellow-50 flex items-center justify-center overflow-hidden">
                                    <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/icons8-update.gif"
                                        alt="Update in progress" class="h-8 w-8 object-contain">
                                </div>
                                <div>
                                    <p class="font-bold text-base leading-tight">Important firmware update required</p>
                                    <p class="text-xs font-semibold">For installs between 9/1/2025 and 11/7/2025</p>
                                    <p class="text-xs text-gray-700 mt-1">Run this before your next service call to keep
                                        your system secure.</p>
                                </div>
                            </div>
                            <div class="flex sm:flex-col gap-2 sm:items-end">
                                <button id="firmwareGoBtn"
                                    class="inline-flex items-center justify-center bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-1.5 px-3 rounded-lg shadow-sm transition-all text-xs sm:text-sm">Launch
                                    update</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 space-y-4">
                    <button id="newInstallBtn"
                        class="w-full group bg-white border border-emerald-200 rounded-3xl p-5 sm:p-6 text-left shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                        <div class="flex items-start gap-3">
                            <div class="bg-emerald-50 text-emerald-600 p-3 rounded-2xl">
                                <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/icons8-administrative-tools-64.png"
                                    alt="Your New System" class="h-10 w-10 object-contain">
                            </div>
                            <div class="space-y-1">
                                <p class="text-xs uppercase tracking-wide text-emerald-500 font-semibold">New install
                                </p>
                                <p class="text-2xl font-bold text-gray-900">Your New System</p>
                                <p class="text-sm text-gray-600 font-semibold">Diagnostic, training, upgrade planning,
                                    and punch-list support.</p>
                            </div>
                        </div>
                        <div class="pt-5 flex items-center justify-end text-sm font-semibold text-gray-500">
                            <span class="text-emerald-600 group-hover:translate-x-1 transition">Open &rarr;</span>
                        </div>
                    </button>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <button id="selfServiceBtn" aria-describedby="selfTroubleshootingDesc"
                            class="group bg-white border border-gray-200 rounded-3xl p-5 sm:p-6 text-left shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                            <div class="flex items-start gap-3">
                                <div class="bg-blue-50 text-blue-600 p-3 rounded-2xl">
                                    <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/icons8-user-manual-64.png"
                                        alt="Self-Service Guides" class="h-10 w-10 object-contain">
                                </div>
                                <div class="space-y-1">
                                    <p class="text-xs uppercase tracking-wide text-blue-500 font-semibold">Self-service
                                        guides</p>
                                    <p class="text-2xl font-bold text-gray-900">Quick Fix Guides</p>
                                    <p id="selfTroubleshootingDesc" class="text-sm text-gray-600 font-semibold">Camera +
                                        alarm playbooks, DMSS flows, and prep checklists.</p>
                                </div>
                            </div>
                            <div class="pt-5 flex items-center justify-end text-sm font-semibold text-gray-500">
                                <span class="text-blue-600 group-hover:translate-x-1 transition">Start &rarr;</span>
                            </div>
                        </button>
                        <button id="remoteSupportBtn" aria-describedby="remoteSupportDesc"
                            class="group bg-white border border-gray-200 rounded-3xl p-5 sm:p-6 text-left shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                            <div class="flex items-start gap-3">
                                <div class="bg-purple-50 text-purple-600 p-3 rounded-2xl">
                                    <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/icons8-phone-64.png"
                                        alt="Remote Support" class="h-10 w-10 object-contain">
                                </div>
                                <div class="space-y-1">
                                    <p class="text-xs uppercase tracking-wide text-purple-500 font-semibold">Remote
                                        support prep</p>
                                    <p class="text-2xl font-bold text-gray-900">Prepare for Remote Call</p>
                                    <p id="remoteSupportDesc" class="text-sm text-gray-600 font-semibold">Stage SNs,
                                        photos, and power cycles so the session starts fast.</p>
                                </div>
                            </div>
                            <div class="pt-5 flex items-center justify-between text-sm font-semibold text-gray-500">
                                <span>Average prep: 10 minutes</span>
                                <span class="text-purple-600 group-hover:translate-x-1 transition">Prep &rarr;</span>
                            </div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- New Install View -->
            <div id="newInstallView" class="hidden view-transition">
                <div class="space-y-8">
                    <!-- Hero Section (Light Theme) -->
                    <div
                        class="bg-gradient-to-r from-white via-slate-50 to-gray-100 text-gray-900 rounded-3xl p-6 sm:p-8 shadow-lg border border-gray-200">
                        <div class="flex flex-col lg:flex-row items-center justify-between gap-8">
                            <div class="flex-1 space-y-4 text-center lg:text-left">
                                <div
                                    class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-50 border border-emerald-100">
                                    <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>
                                    <span class="text-xs font-bold uppercase tracking-wider text-emerald-700">Welcome
                                        Kit</span>
                                </div>
                                <h1 class="text-3xl sm:text-5xl font-black tracking-tight leading-tight text-gray-900">
                                    Welcome to your <br class="hidden sm:block" />
                                    <span
                                        class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-cyan-600">new
                                        system</span>
                                </h1>
                                <p class="text-lg text-gray-600 font-medium max-w-xl leading-relaxed">
                                    Let's ensure everything is perfect. Request your complimentary diagnostic scan and
                                    schedule team training today.
                                </p>
                            </div>

                            <!-- Stats/Features -->
                            <div class="flex gap-4">
                                <div
                                    class="bg-white border border-gray-200 rounded-2xl p-4 text-center min-w-[100px] shadow-sm">
                                    <p class="text-2xl font-black text-emerald-600">Free</p>
                                    <p class="text-[10px] font-bold uppercase tracking-wider text-gray-500 mt-1">System
                                        Audit</p>
                                </div>
                                <div
                                    class="bg-white border border-gray-200 rounded-2xl p-4 text-center min-w-[100px] shadow-sm">
                                    <p class="text-2xl font-black text-cyan-600">24/7</p>
                                    <p class="text-[10px] font-bold uppercase tracking-wider text-gray-500 mt-1">Expert
                                        Support</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Service Cards Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Remote Quality Card -->
                        <div
                            class="group bg-white border border-gray-200 rounded-3xl p-6 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col h-full relative overflow-hidden">
                            <div
                                class="absolute top-0 right-0 w-24 h-24 bg-emerald-50 rounded-bl-full -mr-6 -mt-6 transition-transform group-hover:scale-110">
                            </div>

                            <div class="relative z-10 flex flex-col h-full">
                                <div
                                    class="w-12 h-12 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M9 12l2 2 4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0z" />
                                    </svg>
                                </div>

                                <h3 class="text-xl font-bold text-gray-900 mb-2">Remote Quality Check</h3>
                                <p class="text-sm text-gray-600 font-medium leading-relaxed mb-4 flex-1">
                                    Our technicians will attempt to remotely resolve issues with your cameras or alarm
                                    system.
                                </p>

                                <!-- Diagnostic Type Selection -->
                                <div class="mb-4">
                                    <p class="text-xs font-bold uppercase tracking-wide text-gray-500 mb-2">Select
                                        diagnostic type:</p>
                                    <div class="grid grid-cols-2 gap-3">
                                        <button id="diagnosticTypeCamera"
                                            class="border-2 border-gray-200 rounded-xl p-3 text-center hover:border-blue-500 transition-all group/type opacity-50">
                                            <span class="block text-2xl mb-1">ðŸ“·</span>
                                            <span
                                                class="text-xs font-bold uppercase tracking-wide text-gray-600 group-hover/type:text-blue-600">Camera</span>
                                        </button>
                                        <button id="diagnosticTypeAlarm"
                                            class="border-2 border-gray-200 rounded-xl p-3 text-center hover:border-emerald-500 transition-all group/type opacity-50">
                                            <span class="block text-2xl mb-1">ðŸ””</span>
                                            <span
                                                class="text-xs font-bold uppercase tracking-wide text-gray-600 group-hover/type:text-emerald-600">Alarm</span>
                                        </button>
                                    </div>
                                </div>

                                <button id="newInstallDiagnosticBtn" disabled
                                    class="w-full bg-gray-900 hover:bg-gray-800 text-white font-bold py-3 px-4 rounded-xl transition-all flex items-center justify-center gap-2 group/btn text-sm opacity-50 cursor-not-allowed disabled:hover:bg-gray-900">
                                    <span>Run Diagnostic Scan</span>
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-4 w-4 text-emerald-400 group-hover/btn:translate-x-1 transition-transform"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M13 10V3L4 14h7v7l9-11h-7z" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Training Card -->
                        <div
                            class="group bg-white border border-gray-200 rounded-3xl p-6 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col h-full relative overflow-hidden">
                            <div
                                class="absolute top-0 right-0 w-24 h-24 bg-cyan-50 rounded-bl-full -mr-6 -mt-6 transition-transform group-hover:scale-110">
                            </div>

                            <div class="relative z-10 flex flex-col h-full">
                                <div
                                    class="w-12 h-12 bg-cyan-50 text-cyan-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                                    </svg>
                                </div>

                                <h3 class="text-xl font-bold text-gray-900 mb-2">Training & Onboarding</h3>
                                <p class="text-sm text-gray-600 font-medium leading-relaxed mb-6 flex-1">
                                    Schedule a live, remote session with an expert to walk your team through daily
                                    workflows.
                                </p>

                                <button id="newInstallTrainingBtn"
                                    class="w-full bg-white border-2 border-gray-200 hover:border-cyan-500 hover:text-cyan-600 text-gray-700 font-bold py-3 px-4 rounded-xl transition-all flex items-center justify-center gap-2 group/btn text-sm">
                                    <span>Schedule Session</span>
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-4 w-4 group-hover/btn:translate-x-1 transition-transform" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Future Roadmap Card -->
                        <div
                            class="group bg-white border border-gray-200 rounded-3xl p-6 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col h-full relative overflow-hidden">
                            <div
                                class="absolute top-0 right-0 w-24 h-24 bg-amber-50 rounded-bl-full -mr-6 -mt-6 transition-transform group-hover:scale-110">
                            </div>

                            <div class="relative z-10 flex flex-col h-full">
                                <div
                                    class="w-12 h-12 bg-amber-50 text-amber-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                                    </svg>
                                </div>

                                <h3 class="text-xl font-bold text-gray-900 mb-2">Future Roadmap</h3>
                                <p class="text-sm text-gray-600 font-medium leading-relaxed mb-6 flex-1">
                                    Plan enhancements and next steps. Connect with your sales rep to map your upgrade
                                    path.
                                </p>

                                <button id="openRoadmapModalBtn"
                                    class="w-full bg-white border-2 border-gray-200 hover:border-amber-500 hover:text-amber-600 text-gray-700 font-bold py-3 px-4 rounded-xl transition-all flex items-center justify-center gap-2 group/btn text-sm">
                                    <span>Open Roadmap</span>
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-4 w-4 group-hover/btn:translate-x-1 transition-transform" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 5l7 7-7 7" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Front Desk Section -->
                    <div
                        class="bg-gradient-to-r from-gray-50 to-white rounded-3xl p-6 sm:p-8 border border-gray-200 flex flex-col md:flex-row items-center justify-between gap-6">
                        <div class="flex items-center gap-5">
                            <div class="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 hidden sm:block">
                                <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/icons8-phone-64.png"
                                    alt="Front Desk" class="h-8 w-8 object-contain opacity-80">
                            </div>
                            <div class="text-center sm:text-left">
                                <p class="text-xs font-bold uppercase tracking-wider text-emerald-600 mb-1">Front Desk
                                </p>
                                <h3 class="text-2xl font-black text-gray-900">713-962-3558</h3>
                                <p class="text-sm text-gray-500 font-medium mt-1">Need anything else? Give us a quick
                                    call.</p>
                            </div>
                        </div>
                        <a href="tel:7139623558"
                            class="bg-white border border-gray-200 hover:border-emerald-500 hover:text-emerald-600 text-gray-700 font-bold py-3 px-8 rounded-xl transition-all shadow-sm hover:shadow-md flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                            </svg>
                            <span>Call Now</span>
                        </a>
                    </div>
                </div>

                <button id="newInstallBackBtn"
                    class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 mt-8 text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 111.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Return to Main Menu</span>
                </button>
            </div>

            <!-- Self Service View -->
            <div id="selfServiceView" class="hidden view-transition">
                <div class="text-center space-y-4 mb-8 sm:mb-12">
                    <h1 class="text-3xl sm:text-5xl font-black text-gray-900 tracking-tight">How can we help you today?
                    </h1>
                    <p class="text-lg text-gray-600 font-medium max-w-2xl mx-auto">Select a system below to find
                        troubleshooting guides, video tutorials, and step-by-step playbooks.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                    <!-- Camera System Card -->
                    <div class="group relative bg-white border border-gray-200 rounded-3xl p-6 sm:p-8 shadow-lg hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden"
                        onclick="document.getElementById('troubleshootCameraBtn').click()">
                        <div
                            class="absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                        </div>
                        <div class="relative z-10 flex flex-col items-center text-center space-y-4">
                            <div
                                class="h-20 w-20 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                        d="M15 10l4.553-2.276A1 1 0 0121 8.818v6.364a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors">
                                Camera System</h2>
                            <p class="text-gray-600 font-medium">Troubleshoot NVRs, DMSS app connection, and playback
                                issues.</p>
                            <button id="troubleshootCameraBtn"
                                class="mt-4 px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl shadow-md group-hover:bg-blue-700 transition-colors">
                                Go to Camera Support
                            </button>
                        </div>
                    </div>

                    <!-- Alarm System Card -->
                    <div class="group relative bg-white border border-gray-200 rounded-3xl p-6 sm:p-8 shadow-lg hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden"
                        onclick="document.getElementById('troubleshootAlarmBtn').click()">
                        <div
                            class="absolute inset-0 bg-gradient-to-br from-amber-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                        </div>
                        <div class="relative z-10 flex flex-col items-center text-center space-y-4">
                            <div
                                class="h-20 w-20 bg-amber-100 text-amber-600 rounded-2xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform duration-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-900 group-hover:text-amber-600 transition-colors">
                                Alarm System</h2>
                            <p class="text-gray-600 font-medium">Fix sensor batteries, panel issues, and manage user
                                codes.</p>
                            <button id="troubleshootAlarmBtn"
                                class="mt-4 px-6 py-2.5 bg-amber-500 text-white font-bold rounded-xl shadow-md group-hover:bg-amber-600 transition-colors">
                                Go to Alarm Support
                            </button>
                        </div>
                    </div>
                </div>

                <button id="selfServiceBackBtn"
                    class="w-full max-w-md mx-auto bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 mt-12 text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd"></path>
                    </svg>
                    <span>Return to Main Menu</span>
                </button>
            </div>

            <!-- Camera Troubleshooting View -->
            <div id="cameraTroubleshootingView" class="hidden view-transition">
                <div class="space-y-6">
                    <!-- Hero Section -->
                    <div
                        class="bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-3xl p-6 sm:p-8 shadow-lg">
                        <div class="flex flex-col lg:flex-row items-center justify-between gap-6">
                            <div class="flex-1 space-y-2 text-center lg:text-left">
                                <p
                                    class="inline-flex items-center gap-2 text-xs uppercase tracking-wide font-semibold bg-white/20 px-3 py-1 rounded-full mx-auto lg:mx-0">
                                    Self-Service</p>
                                <h1 class="text-2xl sm:text-4xl font-black leading-tight">Camera Support Hub</h1>
                                <p class="text-white/80 font-medium text-sm sm:text-base">Find step-by-step guides for
                                    your NVR, DMSS app, and network connection.</p>
                            </div>
                            <!-- Search Bar -->
                            <div class="w-full lg:max-w-md">
                                <div class="relative group">
                                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <svg class="h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"
                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd"
                                                d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <input type="text" id="cameraSearch"
                                        class="block w-full pl-11 pr-4 py-3.5 bg-white text-gray-900 placeholder-gray-500 border-0 rounded-2xl ring-1 ring-white/20 shadow-lg focus:ring-2 focus:ring-white focus:outline-none font-semibold transition-all"
                                        placeholder="Search guides (e.g., 'playback', 'password', 'offline')...">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Guides Grid -->
                    <div id="cameraGuidesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- DMSS Guide -->
                        <button id="dmssTutorialBtn"
                            class="guide-card group bg-white border border-gray-200 rounded-2xl p-5 text-left shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col h-full"
                            data-keywords="app phone mobile connect add device qr code serial number">
                            <div class="flex items-start justify-between mb-4">
                                <div
                                    class="bg-blue-50 text-blue-600 p-3 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-gray-400 bg-gray-100 px-2 py-1 rounded-lg">App</span>
                            </div>
                            <h3
                                class="text-lg font-bold text-gray-900 mb-1 group-hover:text-blue-600 transition-colors">
                                Connect to New Phone</h3>
                            <p class="text-sm text-gray-600 font-medium mb-4 flex-1">Learn how to add your NVR to the
                                DMSS app using the serial number.</p>
                            <div class="flex items-center text-sm font-bold text-blue-600">
                                <span>Start Guide</span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>

                        <!-- Router Firmware Guide -->
                        <button id="routerFirmwareBtn"
                            class="guide-card group bg-white border border-gray-200 rounded-2xl p-5 text-left shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col h-full"
                            data-keywords="internet wifi network offline router update firmware">
                            <div class="flex items-start justify-between mb-4">
                                <div
                                    class="bg-emerald-50 text-emerald-600 p-3 rounded-xl group-hover:bg-emerald-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-gray-400 bg-gray-100 px-2 py-1 rounded-lg">Network</span>
                            </div>
                            <h3
                                class="text-lg font-bold text-gray-900 mb-1 group-hover:text-emerald-600 transition-colors">
                                Router Firmware Update</h3>
                            <p class="text-sm text-gray-600 font-medium mb-4 flex-1">Fix connectivity issues by updating
                                your Ageint router.</p>
                            <div class="flex items-center text-sm font-bold text-emerald-600">
                                <span>Start Guide</span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>

                        <!-- Placeholder: Playback -->
                        <div class="guide-card group bg-gray-50 border border-gray-200 rounded-2xl p-5 text-left flex flex-col h-full opacity-60"
                            data-keywords="playback video history recording footage">
                            <div class="flex items-start justify-between mb-4">
                                <div class="bg-gray-200 text-gray-500 p-3 rounded-xl">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-gray-400 bg-gray-200 px-2 py-1 rounded-lg">Coming
                                    Soon</span>
                            </div>
                            <h3 class="text-lg font-bold text-gray-500 mb-1">View Playback</h3>
                            <p class="text-sm text-gray-500 font-medium mb-4 flex-1">How to search and export video
                                footage.</p>
                        </div>

                        <!-- Placeholder: Password Reset -->
                        <div class="guide-card group bg-gray-50 border border-gray-200 rounded-2xl p-5 text-left flex flex-col h-full opacity-60"
                            data-keywords="password reset login admin forgot">
                            <div class="flex items-start justify-between mb-4">
                                <div class="bg-gray-200 text-gray-500 p-3 rounded-xl">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-gray-400 bg-gray-200 px-2 py-1 rounded-lg">Coming
                                    Soon</span>
                            </div>
                            <h3 class="text-lg font-bold text-gray-500 mb-1">Reset Password</h3>
                            <p class="text-sm text-gray-500 font-medium mb-4 flex-1">Recover access to your NVR or
                                camera.</p>
                        </div>
                    </div>

                    <!-- Empty State (Hidden by default) -->
                    <div id="cameraEmptyState" class="hidden text-center py-12">
                        <div class="bg-gray-50 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-400" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                        </div>
                        <h3 class="text-lg font-bold text-gray-900">No guides found</h3>
                        <p class="text-gray-500">Try adjusting your search terms.</p>
                    </div>
                </div>

                <button id="cameraTroubleshootingBackBtn"
                    class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 mt-8 text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd"></path>
                    </svg>
                    <span>Back to Self-Service</span>
                </button>
            </div>

            <!-- Alarm Troubleshooting View -->
            <div id="alarmTroubleshootingView" class="hidden view-transition">
                <div class="space-y-6">
                    <!-- Hero Section -->
                    <div
                        class="bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 text-white rounded-3xl p-6 sm:p-8 shadow-lg">
                        <div class="flex flex-col lg:flex-row items-center justify-between gap-6">
                            <div class="flex-1 space-y-2 text-center lg:text-left">
                                <p
                                    class="inline-flex items-center gap-2 text-xs uppercase tracking-wide font-semibold bg-white/20 px-3 py-1 rounded-full mx-auto lg:mx-0">
                                    Self-Service</p>
                                <h1 class="text-2xl sm:text-4xl font-black leading-tight">Alarm Support Hub</h1>
                                <p class="text-white/80 font-medium text-sm sm:text-base">Troubleshoot sensors, change
                                    batteries, and manage your IQ Panel 4.</p>
                            </div>
                            <!-- Search Bar -->
                            <div class="w-full lg:max-w-md">
                                <div class="relative group">
                                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <svg class="h-5 w-5 text-white group-focus-within:text-white transition-colors"
                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd"
                                                d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <input type="text" id="alarmSearch"
                                        class="block w-full pl-11 pr-4 py-3.5 bg-white/10 text-white placeholder-white/60 border-0 rounded-2xl ring-1 ring-white/20 shadow-lg focus:ring-2 focus:ring-white focus:outline-none font-semibold transition-all backdrop-blur-sm"
                                        placeholder="Search guides (e.g., 'battery', 'sensor', 'code')...">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Guides Grid -->
                    <div id="alarmGuidesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Battery Replacement Video -->
                        <button
                            class="video-card group bg-white border border-gray-200 rounded-2xl p-5 text-left shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col h-full"
                            data-video-id="QBvE0wGWnXc" data-video-title="How to Replace IQ Panel Backup Battery"
                            data-title="panel backup battery replacement" data-category="maintenance">
                            <div class="flex items-start justify-between mb-4">
                                <div
                                    class="bg-red-50 text-red-600 p-3 rounded-xl group-hover:bg-red-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-red-600 bg-red-50 px-2 py-1 rounded-lg">Video</span>
                            </div>
                            <h3 class="text-lg font-bold text-gray-900 mb-1 group-hover:text-red-600 transition-colors">
                                Panel Backup Battery</h3>
                            <p class="text-sm text-gray-600 font-medium mb-4 flex-1">Replace the panel's internal backup
                                battery.</p>
                            <div class="flex items-center text-sm font-bold text-red-600">
                                <span>Watch Video</span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>

                        <!-- IQ Panel 4 Overview (Video) -->
                        <button
                            class="video-card group bg-white border border-gray-200 rounded-2xl p-5 text-left shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col h-full"
                            data-video-id="09pV7uuGbxE" data-video-title="Qolsys IQ4 User Guide Overview"
                            data-title="panel overview user guide" data-category="basics">
                            <div class="flex items-start justify-between mb-4">
                                <div
                                    class="bg-red-50 text-red-600 p-3 rounded-xl group-hover:bg-red-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-red-600 bg-red-50 px-2 py-1 rounded-lg">Video</span>
                            </div>
                            <h3 class="text-lg font-bold text-gray-900 mb-1 group-hover:text-red-600 transition-colors">
                                Panel Overview</h3>
                            <p class="text-sm text-gray-600 font-medium mb-4 flex-1">Master the basics of your Qolsys IQ
                                Panel 4.</p>
                            <div class="flex items-center text-sm font-bold text-red-600">
                                <span>Watch Video</span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>

                        <!-- Technical Training (Video) -->
                        <button
                            class="video-card group bg-white border border-gray-200 rounded-2xl p-5 text-left shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col h-full"
                            data-video-id="S3I5nI4aCgE" data-video-title="IQ Panel 4 Technical Training"
                            data-title="technical training installation configuration" data-category="advanced">
                            <div class="flex items-start justify-between mb-4">
                                <div
                                    class="bg-red-50 text-red-600 p-3 rounded-xl group-hover:bg-red-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-red-600 bg-red-50 px-2 py-1 rounded-lg">Video</span>
                            </div>
                            <h3 class="text-lg font-bold text-gray-900 mb-1 group-hover:text-red-600 transition-colors">
                                Technical Training</h3>
                            <p class="text-sm text-gray-600 font-medium mb-4 flex-1">Deep dive into installation and
                                configuration.</p>
                            <div class="flex items-center text-sm font-bold text-red-600">
                                <span>Watch Video</span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>

                        <!-- Hidden Features (Video) -->
                        <button
                            class="video-card group bg-white border border-gray-200 rounded-2xl p-5 text-left shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col h-full"
                            data-video-id="J7kQ3w5v_78" data-video-title="Surprising IQ Panel Functions"
                            data-title="hidden features panel functions" data-category="tips">
                            <div class="flex items-start justify-between mb-4">
                                <div
                                    class="bg-red-50 text-red-600 p-3 rounded-xl group-hover:bg-red-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-red-600 bg-red-50 px-2 py-1 rounded-lg">Video</span>
                            </div>
                            <h3 class="text-lg font-bold text-gray-900 mb-1 group-hover:text-red-600 transition-colors">
                                Hidden Features</h3>
                            <p class="text-sm text-gray-600 font-medium mb-4 flex-1">Discover surprising functions of
                                your panel.</p>
                            <div class="flex items-center text-sm font-bold text-red-600">
                                <span>Watch Video</span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>

                        <!-- Change Batteries Guide -->
                        <button id="batteryTutorialBtn"
                            class="guide-card group bg-white border border-gray-200 rounded-2xl p-5 text-left shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col h-full"
                            data-keywords="battery power dead low sensor"
                            data-title="change sensor batteries replacement" data-category="maintenance">
                            <div class="flex items-start justify-between mb-4">
                                <div
                                    class="bg-amber-50 text-amber-600 p-3 rounded-xl group-hover:bg-amber-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M13 10V3L4 14h7v7l9-11h-7z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-gray-400 bg-gray-100 px-2 py-1 rounded-lg">Maintenance</span>
                            </div>
                            <h3
                                class="text-lg font-bold text-gray-900 mb-1 group-hover:text-amber-600 transition-colors">
                                Change Batteries</h3>
                            <p class="text-sm text-gray-600 font-medium mb-4 flex-1">Step-by-step guide for replacing
                                door/window sensor batteries.</p>
                            <div class="flex items-center text-sm font-bold text-amber-600">
                                <span>Start Guide</span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>

                        <!-- Manage User Codes (Video) -->
                        <button
                            class="video-card group bg-white border border-gray-200 rounded-2xl p-5 text-left shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col h-full"
                            data-video-id="C0H9QEzIQ7w" data-video-title="Add and Remove Users"
                            data-title="manage user codes add remove" data-category="users">
                            <div class="flex items-start justify-between mb-4">
                                <div
                                    class="bg-red-50 text-red-600 p-3 rounded-xl group-hover:bg-red-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-red-600 bg-red-50 px-2 py-1 rounded-lg">Video</span>
                            </div>
                            <h3 class="text-lg font-bold text-gray-900 mb-1 group-hover:text-red-600 transition-colors">
                                Manage User Codes</h3>
                            <p class="text-sm text-gray-600 font-medium mb-4 flex-1">Learn how to add, edit, or remove
                                user codes.</p>
                            <div class="flex items-center text-sm font-bold text-red-600">
                                <span>Watch Video</span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>

                        <!-- Z-Wave Programming (Video) -->
                        <button
                            class="video-card group bg-white border border-gray-200 rounded-2xl p-5 text-left shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col h-full"
                            data-video-id="i-kUxPM_SoU" data-video-title="Program a Z Wave Device"
                            data-title="z-wave programming smart locks lights thermostats" data-category="smart home">
                            <div class="flex items-start justify-between mb-4">
                                <div
                                    class="bg-red-50 text-red-600 p-3 rounded-xl group-hover:bg-red-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M13 10V3L4 14h7v7l9-11h-7z" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-red-600 bg-red-50 px-2 py-1 rounded-lg">Video</span>
                            </div>
                            <h3 class="text-lg font-bold text-gray-900 mb-1 group-hover:text-red-600 transition-colors">
                                Z-Wave Programming</h3>
                            <p class="text-sm text-gray-600 font-medium mb-4 flex-1">How to add smart locks, lights, and
                                thermostats.</p>
                            <div class="flex items-center text-sm font-bold text-red-600">
                                <span>Watch Video</span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                        </button>

                        <!-- Placeholder: Wi-Fi Reconnect -->
                        <div class="guide-card group bg-gray-50 border border-gray-200 rounded-2xl p-5 text-left flex flex-col h-full opacity-60"
                            data-keywords="wifi internet connect network offline">
                            <div class="flex items-start justify-between mb-4">
                                <div class="bg-gray-200 text-gray-500 p-3 rounded-xl">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0" />
                                    </svg>
                                </div>
                                <span
                                    class="text-[10px] font-bold uppercase tracking-wider text-gray-400 bg-gray-200 px-2 py-1 rounded-lg">Coming
                                    Soon</span>
                            </div>
                            <h3 class="text-lg font-bold text-gray-500 mb-1">Reconnect Wi-Fi</h3>
                            <p class="text-sm text-gray-500 font-medium mb-4 flex-1">Get your panel back online after a
                                router change.</p>
                        </div>
                    </div>

                    <!-- Empty State (Hidden by default) -->
                    <div id="alarmEmptyState" class="hidden text-center py-12">
                        <div class="bg-gray-50 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-400" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                        </div>
                        <h3 class="text-lg font-bold text-gray-900">No guides found</h3>
                        <p class="text-gray-500">Try adjusting your search terms.</p>
                    </div>


                </div>

                <button id="alarmTroubleshootingBackBtn"
                    class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 mt-8 text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd"></path>
                    </svg>
                    <span>Back to Self-Service</span>
                </button>
            </div>

            <!-- Battery Tutorial View -->
            <div id="batteryTutorialView" class="hidden view-transition">
                <h1 class="text-3xl font-bold mb-4 text-center">Change Door/Window Sensor Battery</h1>

                <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-r-lg mb-6 shadow-md">
                    <p class="font-bold">Battery Type:</p>
                    <p>These sensors typically use a <span class="font-semibold">CR123A</span> battery. Please verify
                        with your technician before purchasing.</p>
                </div>

                <div class="space-y-8">
                    <!-- Step 1: Disarm Panel -->
                    <div class="tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 1: Disarm the Panel</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Disarm your alarm system to ensure safety.
                        </p>
                        <div class="mt-8 flex justify-end">
                            <button
                                class="next-btn-battery bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 2 -->
                    <div class="battery-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 2: Identify the Sensor</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Locate the door or window sensor that
                            needs a battery change. It will be the larger piece of the two-part sensor.</p>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-battery bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-battery bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 3 -->
                    <div class="battery-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 3: Get Replacement Batteries</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Most sensors use a <strong
                                class="tutorial-highlight">CR2032</strong> or <strong
                                class="tutorial-highlight">CR2450</strong>
                            battery. Check the old battery to be sure.
                        </p>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-battery bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-battery bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 4 -->
                    <div class="battery-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 4: Open the Sensor</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">There is usually a small tab or slot on
                            the side of the sensor. Use a small flathead screwdriver or your fingernail to pry the cover
                            off.</p>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-battery bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-battery bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 5 -->
                    <div class="battery-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 5: Replace the Batteries</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Remove the old battery and insert the new
                            one, making sure the <strong class="tutorial-highlight">+</strong> side is facing up.</p>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-battery bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-battery bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 6 -->
                    <div class="battery-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 6: Close the Sensor</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Snap the cover back into place.</p>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-battery bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-battery bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 7 -->
                    <div class="battery-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 7: Test the Sensor</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Open and close the door or window to
                            ensure the alarm panel recognizes that the sensor is working correctly.</p>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-battery bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button id="batteryFinishedBtn"
                                class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg text-base">All
                                Done!</button>
                        </div>
                    </div>
                </div>

                <button id="batteryTutorialBackBtn"
                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 mt-8 text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd"></path>
                    </svg>
                    <span>Back to Alarm Troubleshooting</span>
                </button>
            </div> <!-- DMSS Tutorial View -->
            <div id="dmssTutorialView" class="hidden view-transition">
                <div class="text-center space-y-3 mb-8">
                    <h1 class="text-3xl font-bold">ðŸ–¥ï¸ Connect Your NVR to a New Phone</h1>
                    <p class="text-gray-600 text-base sm:text-lg font-semibold">Weâ€™ll guide you through pairing the
                        recorder with DMSSâ€”monitor or not.</p>
                </div>

                <div id="monitorQuestionCard"
                    class="bg-blue-50 border border-blue-100 rounded-2xl p-5 sm:p-6 space-y-4">
                    <div>
                        <p class="text-xs uppercase tracking-wide font-semibold text-blue-600">Start here</p>
                        <h2 class="text-xl font-bold text-gray-900 mt-1">Do you have a monitor & mouse connected to the
                            NVR?</h2>
                        <p class="text-gray-600 font-medium mt-2">Choose the option that matches your setup and the
                            checklist below will adjust automatically.</p>
                    </div>
                    <p id="monitorPrompt" class="text-sm font-semibold text-blue-700 flex items-center gap-2">
                        <span class="h-2 w-2 rounded-full bg-blue-500 animate-pulse inline-block"></span>
                        Please pick an option to continue.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-3">
                        <button id="monitorYesBtn"
                            class="monitor-choice px-5 py-2.5 rounded-full font-semibold border-2 border-blue-200 bg-white text-gray-700 transition focus:outline-none focus:ring-2 focus:ring-blue-100">Yes,
                            I have a monitor</button>
                        <button id="monitorNoBtn"
                            class="monitor-choice px-5 py-2.5 rounded-full font-semibold border-2 border-blue-200 bg-white text-gray-700 transition focus:outline-none focus:ring-2 focus:ring-blue-100">No
                            monitor available</button>
                    </div>
                </div>

                <div id="nvrWithMonitor" class="mt-8 hidden">
                    <div class="mb-8">
                        <div class="relative pt-1">
                            <div class="flex mb-2 items-center justify-between">
                                <p class="text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-wide">With
                                    monitor available</p>
                                <span id="nvrProgressLabel"
                                    class="text-xs font-semibold inline-block py-1 px-3 rounded-full text-blue-600 bg-blue-100">Step
                                    1 of 8</span>
                            </div>
                            <div class="overflow-hidden h-2 text-xs flex rounded bg-blue-100">
                                <div id="nvrProgressBar" style="width: 12.5%"
                                    class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="nvr-steps" class="space-y-6">
                        <div class="camera-prep-step tutorial-step-card">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">1</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Get set up
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900">Connect a Monitor & Mouse</h3>
                                    <p class="text-gray-600 font-medium">Hook up HDMI (or VGA) plus a USB mouse. Youâ€™ll
                                        use this to pull the QR code.</p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-end">
                                <button
                                    class="next-btn-nvr bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">2</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Navigate
                                        menus</p>
                                    <h3 class="font-bold text-2xl text-gray-900">Open the P2P Screen</h3>
                                    <p class="text-gray-600 font-medium">Right-click &rarr; <span
                                            class="tutorial-highlight">Main Menu</span> &rarr; enter passcode &rarr;
                                        <span class="tutorial-highlight">Network</span> &rarr; <span
                                            class="tutorial-highlight">P2P</span>.
                                    </p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-between">
                                <button
                                    class="prev-btn-nvr bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button
                                    class="next-btn-nvr bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">3</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Switch to
                                        phone</p>
                                    <h3 class="font-bold text-2xl text-gray-900">Open DMSS</h3>
                                    <p class="text-gray-600 font-medium">Launch DMSS on your phone so itâ€™s waiting at
                                        the home screen.</p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-between">
                                <button
                                    class="prev-btn-nvr bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button
                                    class="next-btn-nvr bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">4</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Start pairing
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900">Tap â€œ+â€ to Add Device</h3>
                                    <p class="text-gray-600 font-medium">Choose the <span
                                            class="tutorial-highlight">+</span>
                                        button, then select <span class="tutorial-highlight">Manually Add</span> if the
                                        QR code
                                        isnâ€™t handy.
                                    </p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-between">
                                <button
                                    class="prev-btn-nvr bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button
                                    class="next-btn-nvr bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">5</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Identify
                                        recorder</p>
                                    <h3 class="font-bold text-2xl text-gray-900">Enter the Serial Number</h3>
                                    <p class="text-gray-600 font-medium">On the P2P screen tap <span
                                            class="tutorial-highlight">Refresh</span> if needed, then type the SN shown.
                                    </p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-between">
                                <button
                                    class="prev-btn-nvr bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button
                                    class="next-btn-nvr bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">6</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Credentials
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900">Fill Device Details</h3>
                                    <p class="text-gray-600 font-medium">Give the recorder a friendly name and enter the
                                        admin username/password.</p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-between">
                                <button
                                    class="prev-btn-nvr bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button
                                    class="next-btn-nvr bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">7</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Confirm</p>
                                    <h3 class="font-bold text-2xl text-gray-900">Save & View</h3>
                                    <p class="text-gray-600 font-medium">Tap save and make sure live thumbnails populate
                                        inside DMSS.</p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-between">
                                <button
                                    class="prev-btn-nvr bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button
                                    class="next-btn-nvr bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">8</div>
                                <div class="space-y-4">
                                    <p class="text-sm.uppercase tracking-wide text-blue-600 font-semibold">Helpful notes
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900">Final Checklist</h3>
                                    <ul class="space-y-2 text-gray-600 font-medium">
                                        <li class="flex items-start gap-2"><span class="text-2xl">ðŸ–¥ï¸</span><span>Exit
                                                menus by right-clicking repeatedly on the monitor.</span></li>
                                        <li class="flex items-start gap-2"><span class="text-2xl">â—</span><span>No
                                                monitor? Grab the SN from the sticker under the NVR and add it
                                                manually.</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="mt-8 flex flex-col sm:flex-row sm:justify-between gap-3">
                                <button
                                    class="prev-btn-nvr bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button id="nvrFinishedBtn"
                                    class="bg-green-500 hover:bg-green-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">All
                                    Done!</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="nvrWithoutMonitor" class="hidden mt-8">
                    <div class="mb-8">
                        <div class="relative pt-1">
                            <div class="flex mb-2 items-center justify-between">
                                <p class="text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-wide">No
                                    monitor handy</p>
                                <span id="nvrWithoutMonitorProgressLabel"
                                    class="text-xs font-semibold inline-block py-1 px-3 rounded-full text-blue-600 bg-blue-100">Step
                                    1 of 5</span>
                            </div>
                            <div class="overflow-hidden h-2 text-xs flex rounded bg-blue-100">
                                <div id="nvrWithoutMonitorProgressBar" style="width: 20%"
                                    class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="nvrWithoutMonitorSteps" class="space-y-6">
                        <div class="camera-prep-step tutorial-step-card">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">1</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Start on
                                        phone</p>
                                    <h3 class="font-bold text-2xl text-gray-900">Open DMSS</h3>
                                    <p class="text-gray-600.font-medium">Have the app open and signed in on the phone
                                        youâ€™re adding.</p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-end">
                                <button
                                    class="next-btn-nvr-no-monitor bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">2</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Begin add
                                        flow</p>
                                    <h3 class="font-bold text-2xl text-gray-900">Tap â€œ+â€ &rarr; â€œSN/Scanâ€</h3>
                                    <p class="text-gray-600 font-medium">Choose <span
                                            class="tutorial-highlight">SN/Scan</span>;
                                        weâ€™ll enter the serial manually.
                                    </p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-between">
                                <button
                                    class="prev-btn-nvr-no-monitor bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button
                                    class="next-btn-nvr-no-monitor bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">3</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Find the
                                        serial</p>
                                    <h3 class="font-bold text-2xl text-gray-900">Flip the NVR</h3>
                                    <p class="text-gray-600 font-medium">Look for the sticker underneath the NVR; copy
                                        the <span class="tutorial-highlight">SN</span>.</p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-between">
                                <button
                                    class="prev-btn-nvr-no-monitor bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button
                                    class="next-btn-nvr-no-monitor bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">4</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Enter details
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900">Add to the App</h3>
                                    <p class="text-gray-600 font-medium">Choose <span
                                            class="tutorial-highlight">NVR</span>,
                                        name it, and enter the credentials.
                                    </p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-between">
                                <button
                                    class="prev-btn-nvr-no-monitor bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                                <button
                                    class="next-btn-nvr-no-monitor bg-blue-500 hover:bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                            </div>
                        </div>
                        <div class="camera-prep-step tutorial-step-card hidden">
                            <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                                <div class="camera-step-badge">5</div>
                                <div class="space-y-4">
                                    <p class="text-sm uppercase tracking-wide text-blue-600 font-semibold">Done</p>
                                    <h3 class="font-bold text-2xl text-gray-900">Device Added</h3>
                                    <p class="text-gray-600 font-medium">You should now see the recorder inside DMSS.
                                    </p>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-start">
                                <button
                                    class="prev-btn-nvr-no-monitor bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            </div>
                        </div>
                    </div>
                </div>

                <button id="dmssTutorialBackBtn"
                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 mt-8 text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Back to Camera Troubleshooting</span>
                </button>
            </div><!-- Router Firmware Tutorial View -->
            <div id="routerFirmwareView" class="hidden view-transition">
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold mb-2">Upgrading Router Firmware</h1>
                    <p class="text-gray-700 text-lg font-semibold">Follow these steps to update your router.</p>
                </div>

                <!-- Progress Bar -->
                <div class="mb-8">
                    <div class="relative pt-1">
                        <div class="flex mb-2 items-center justify-between">
                            <div>
                                <span id="routerFirmwareProgressLabel"
                                    class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200">
                                    Step 1 of 8
                                </span>
                            </div>
                        </div>
                        <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200">
                            <div id="routerFirmwareProgressBar" style="width: 12.5%"
                                class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500">
                            </div>
                        </div>
                    </div>
                </div>

                <div id="router-firmware-steps">
                    <!-- Step 1 -->
                    <div class="router-firmware-step tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 1: Connect to Wi-Fi</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">On your phone, open Wi-Fi settings and
                            connect to <strong class="tutorial-highlight">'Ageint Data 5'</strong> (preferred) or
                            <strong class="tutorial-highlight">'Ageint Data 2.4'</strong> if 5 GHz isn't available. You
                            will need the password. If you don't have it, please contact our office at <strong
                                class="tutorial-highlight">832-610-6820</strong>.
                        </p>
                        <button id="wifiMissingBtn" type="button"
                            class="mt-4 mb-6 w-full flex items-center justify-center gap-3 bg-blue-50 border border-blue-200 text-blue-700 font-semibold px-5 py-3 rounded-2xl shadow-sm hover:bg-blue-100 transition text-sm sm:text-base">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                    d="M12 8v4m0 4h.01M21 12A9 9 0 1 1 3 12a9 9 0 0 1 18 0z" />
                            </svg>
                            <span>I don't see Ageint Data 2.4 or Ageint Data 5</span>
                        </button>
                        <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/step1.PNG"
                            alt="Step 1" class="w-full max-w-md mx-auto rounded-lg shadow-md border">
                        <div class="mt-8 flex justify-end">
                            <button
                                class="next-btn-router bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 2 -->
                    <div class="router-firmware-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 2: Access Login Page</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Open a web browser and go to <strong
                                class="tutorial-highlight">192.168.2.1</strong>. Enter the same password you used for
                            the Wi-Fi.</p>
                        <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/step2.PNG"
                            alt="Step 2" class="w-full max-w-md mx-auto rounded-lg shadow-md border">
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-router bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-router bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 3 -->
                    <div class="router-firmware-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 3: Open Main Menu</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Tap the menu icon (three lines) at the top
                            right. A pop-up might appear; if it does, tap the 'X' to close it.</p>
                        <div class="flex flex-col md:flex-row gap-4 justify-center">
                            <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/step3.PNG"
                                alt="Step 3 Main" class="w-full max-w-md mx-auto rounded-lg shadow-md border">
                            <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/step%203-disclaimer.PNG"
                                alt="Step 3 Popup" class="w-full max-w-md mx-auto rounded-lg shadow-md border">
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-router bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-router bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 4 -->
                    <div class="router-firmware-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 4: Select 'Advanced'</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">From the menu, select the <strong
                                class="tutorial-highlight">'Advanced'</strong> option.</p>
                        <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/step4.PNG"
                            alt="Step 4" class="w-full max-w-md mx-auto rounded-lg shadow-md border">
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-router bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-router bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 5 -->
                    <div class="router-firmware-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 5: Select 'System'</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">In the Advanced menu, scroll down and tap
                            on <strong class="tutorial-highlight">'System'</strong>.</p>
                        <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/step5.PNG"
                            alt="Step 5" class="w-full max-w-md mx-auto rounded-lg shadow-md border">
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-router bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-router bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 6 -->
                    <div class="router-firmware-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 6: Select 'Firmware Update'</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Next, select <strong
                                class="tutorial-highlight">'Firmware Update'</strong> from the System menu.</p>
                        <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/step6.PNG"
                            alt="Step 6" class="w-full max-w-md mx-auto rounded-lg shadow-md border">
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-router bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-router bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 7 -->
                    <div class="router-firmware-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 7: Go to Update Section</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">You will now be on the Firmware Update
                            screen. Please scroll down to see the update options.</p>
                        <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/step7.PNG"
                            alt="Step 7" class="w-full max-w-md mx-auto rounded-lg shadow-md border">
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-router bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-router bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <!-- Step 8 -->
                    <div class="router-firmware-step hidden tutorial-step-card">
                        <h3 class="font-bold text-2xl mb-4 text-gray-800">Step 8: Update and Reboot</h3>
                        <p class="text-gray-700 font-semibold text-base mb-4">Look for a blue button labeled <strong
                                class="tutorial-highlight">'UPDATE'</strong>. If your router is already up to date, it
                            may say 'Check for update' instead. Press this button to confirm. The router will begin its
                            update process. Please keep this screen open until it has finished rebooting. Once complete,
                            you can reconnect your phone to your main Wi-Fi network.</p>
                        <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/ste8.PNG"
                            alt="Step 8" class="w-full max-w-md mx-auto rounded-lg shadow-md border">
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-router bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-base">Previous</button>
                            <button id="routerFirmwareFinishedBtn"
                                class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg text-base">All
                                Done!</button>
                        </div>
                    </div>
                </div>
                <button id="routerFirmwareBackBtn"
                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 mt-8 text-base">
                    <svg xmlns="http://www.w-3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd"></path>
                    </svg>
                    <span>Back to Camera Troubleshooting</span>
                </button>
            </div>

            <!-- Welcome View -->
            <div id="welcomeView" class="hidden view-transition">
                <div class="space-y-6">
                    <div
                        class="bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 text-white rounded-3xl p-6 sm:p-8 shadow-lg">
                        <div class="flex flex-col lg:flex-row items-start gap-6">
                            <div class="flex-1 space-y-3 text-center lg:text-left">
                                <p
                                    class="inline-flex items-center gap-2 text-xs uppercase tracking-wide font-semibold bg-white/20 px-3 py-1 rounded-full mx-auto lg:mx-0">
                                    Remote prep</p>
                                <h1 class="text-2xl sm:text-3xl font-black leading-tight">Welcome to Your Support Portal
                                </h1>
                                <p class="text-white/80 font-medium text-sm sm:text-base">This quick prep ensures your
                                    cameras, access, or alarm system are staged before we hop on a remote session.</p>
                            </div>
                            <div class="grid grid-cols-2 gap-3 text-center w-full lg:w-auto">
                                <div class="bg-white/20 rounded-2xl px-3 py-2">
                                    <p class="text-xl font-black">3</p>
                                    <p class="text-[10px] uppercase tracking-wide text-white/70">Systems</p>
                                </div>
                                <div class="bg-white/20 rounded-2xl px-3 py-2">
                                    <p class="text-xl.font-black">10 min</p>
                                    <p class="text-[10px] uppercase tracking-wide text-white/70">Avg prep</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="bg-white border border-blue-100 rounded-2xl p-4 sm:p-5 flex flex-col sm:flex-row items-center sm:items-start gap-4 shadow-sm text-center sm:text-left">
                        <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/info.png"
                            alt="Info" class="h-10 w-10">
                        <div class="space-y-1">
                            <p class="text-base font-semibold text-gray-800">Select the system you need help with.</p>
                            <p class="text-sm text-gray-600">Each button opens a quick prep checklist so the remote
                                session focuses on fixes, not setup.</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <button id="cameraBtn"
                            class="group bg-white border border-blue-200 rounded-2xl p-4 text-left shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                            <div class="flex items-center gap-3">
                                <div class="bg-blue-50 text-blue-600 p-3 rounded-2xl">
                                    <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/camera.png"
                                        alt="Camera System" class="h-10 w-10 object-contain">
                                </div>
                                <div class="space-y-1">
                                    <p class="text-xs uppercase tracking-wide text-blue-500 font-semibold">Prepare</p>
                                    <p class="text-xl font-bold text-gray-900 leading-tight">Camera System</p>
                                    <p class="text-xs text-gray-500 font-semibold">DMSS access, NVR prep, serial capture
                                    </p>
                                </div>
                            </div>
                        </button>
                        <button id="accessBtn"
                            class="group bg-white border border-amber-200 rounded-2xl p-4 text-left shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                            <div class="flex items-center gap-3">
                                <div class="bg-amber-50 text-amber-600 p-3 rounded-2xl">
                                    <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/access.png"
                                        alt="Access Control" class="h-10 w-10 object-contain">
                                </div>
                                <div class="space-y-1">
                                    <p class="text-xs uppercase tracking-wide text-amber-500 font-semibold">Prepare</p>
                                    <p class="text-xl font-bold text-gray-900 leading-tight">Access Control</p>
                                    <p class="text-xs text-gray-500 font-semibold">Have controller models, badge roster,
                                        event logs ready</p>
                                </div>
                            </div>
                        </button>
                        <button id="alarmBtn"
                            class="group bg-white border border-purple-200 rounded-2xl p-4 text-left shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                            <div class="flex items-center gap-3">
                                <div class="bg-purple-50 text-purple-600 p-3 rounded-2xl">
                                    <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/alarm.png"
                                        alt="Alarm System" class="h-10 w-10 object-contain">
                                </div>
                                <div class="space-y-1">
                                    <p class="text-xs uppercase tracking-wide text-purple-500 font-semibold">Prepare</p>
                                    <p class="text-xl font-bold text-gray-900 leading-tight">Alarm System</p>
                                    <p class="text-xs text-gray-500 font-semibold">Panel reboot, sensors, monitoring</p>
                                </div>
                            </div>
                        </button>
                    </div>

                    <div class="text-center bg-white border border-gray-200 rounded-2xl p-5 shadow-sm">
                        <p class="text-sm text-gray-600 mb-2">Need additional training on your system? We can walk you
                            through as little or as much as youâ€™d like.</p>
                        <button id="trainingBtn"
                            class="w-full sm:w-auto inline-flex items-center justify-center gap-3 bg-white hover:bg-gray-500 text-gray-600 hover:text-white border-2 border-gray-400 font-bold py-2.5 px-5 rounded-xl shadow-md transition-all duration-300 transform hover:scale-105">
                            <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/icons8-information-64.png"
                                alt="Information" class="h-6 w-6">
                            <span>Get to know your system</span>
                        </button>
                    </div>
                </div>
                <button id="welcomeBackBtn"
                    class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 mt-8 text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd"></path>
                    </svg>
                    <span>Return to Main Menu</span>
                </button>
            </div>

            <!-- Camera System View -->
            <div id="cameraView" class="hidden view-transition">
                <div class="text-center mb-8 space-y-3">
                    <h1 class="text-3xl font-bold">Camera System Preparation</h1>
                    <p class="text-gray-600 text-base sm:text-lg font-semibold">Work through this checklist before your
                        call so our technician can jump straight into fixing the issue.</p>
                    <p
                        class="inline-flex items-center gap-2 bg-blue-50 text-blue-700 font-semibold text-sm px-4 py-2 rounded-full">
                        <span>â±ï¸ Average time: 6 minutes</span>
                    </p>
                </div>

                <div class="mb-8" id="cameraProgressWrapper">
                    <div class="relative pt-1">
                        <div class="flex mb-2 items-center justify-between">
                            <p class="text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-wide">
                                Preparation checklist</p>
                            <span id="cameraProgressLabel"
                                class="text-xs font-semibold inline-block py-1 px-3 rounded-full text-blue-600 bg-blue-100">Step
                                1 of 7</span>
                        </div>
                        <div class="overflow-hidden h-2 text-xs flex rounded bg-blue-100">
                            <div id="cameraProgressBar" style="width: 14.28%"
                                class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500">
                            </div>
                        </div>
                    </div>
                </div>

                <div id="camera-steps" class="space-y-6">
                    <!-- Step 1 -->
                    <div class="camera-prep-step tutorial-step-card">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">1</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-blue-500 font-semibold">Identify your
                                        system</p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Locate the Serial Number (SN)</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">Flip the main camera box (NVR)
                                        over and grab the serial number. Text the SN and your name so we can have your
                                        system pulled up.</p>
                                </div>
                                <div class="camera-tip">
                                    <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/info.png"
                                        alt="Info" class="h-6 w-6 mt-0.5">
                                    <div>
                                        <p>Not near the box? <button id="findOnPhoneBtn"
                                                class="text-blue-700 underline font-semibold">Check the DMSS
                                                app</button> for the SN.</p>
                                    </div>
                                </div>
                                <div class="camera-contact-bubble space-y-3">
                                    <p class="text-sm text-gray-600 font-semibold uppercase tracking-wide">Send us the
                                        SN</p>
                                    <div class="phone-number-container flex items-center justify-center gap-3"
                                        data-number="8326106820">
                                        <span class="phone-number font-bold text-2xl text-gray-900"
                                            data-number="8326106820">832-610-6820</span>
                                        <button class="phone-action-btn inline-flex align-middle" data-text-only="true">
                                            <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/speechbubble.png"
                                                alt="Text us" class="h-7 w-7">
                                        </button>
                                    </div>
                                    <p class="text-xs text-gray-500">Monâ€“Fri Â· 8 AM â€“ 5 PM CST</p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-end">
                            <button
                                class="next-btn-camera bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>

                    <!-- Step 2 -->
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">2</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-blue-500 font-semibold">Get oriented
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Locate the Main Hub</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">Find the black or silver box
                                        where all the camera cables plug in (labeled NVR, DVR, or â€œAgeint Securityâ€).
                                    </p>
                                </div>
                                <div class="camera-note">
                                    <p class="font-semibold text-gray-800 mb-2 text-sm uppercase tracking-wide">Look for
                                    </p>
                                    <ul class="list-disc list-inside text-gray-600 font-medium space-y-1 text-sm">
                                        <li>Ethernet cables running in a row</li>
                                        <li>Small cooling fan vents</li>
                                        <li>Status lights on the front panel</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-camera bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-camera bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>

                    <!-- Step 3 -->
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">3</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-blue-500 font-semibold">Power check
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Find the Power Source</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">Trace the thick power cord from
                                        the NVR to see what it plugs into: wall outlet, power strip, or an
                                        Uninterruptible Power Supply (UPS).</p>
                                </div>
                                <div class="camera-tip">
                                    <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/info.png"
                                        alt="Info" class="h-6 w-6 mt-0.5">
                                    <div>
                                        <p>A UPS is a small black battery box with outlets on the back.</p>
                                        <button id="upsInfoBtn"
                                            class="text-blue-700 underline font-semibold mt-1 inline-flex items-center gap-1">See
                                            an example</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-camera bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-camera bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>

                    <!-- Step 4 -->
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">4</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-blue-500 font-semibold">Power cycle
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Power Down the System</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">Unplug every device connected to
                                        the NVRâ€™s power sourceâ€”except the small white alarm box with two low-voltage
                                        wires.</p>
                                </div>
                                <div class="bg-red-50 border border-red-200 rounded-2xl p-4 flex gap-3">
                                    <div class="text-2xl">âš ï¸</div>
                                    <div>
                                        <p class="text-red-700 font-semibold">Do not unplug the alarm box.</p>
                                        <p class="text-red-600 text-sm mt-1">It usually has two skinny wires and no
                                            antennas. <button id="alarmBoxInfoBtn"
                                                class="text-red-700 underline font-semibold">Show me</button></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-camera bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-camera bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>

                    <!-- Step 5 -->
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">5</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-blue-500 font-semibold">Let it rest
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Wait 60 Seconds</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">Give the system a full minute to
                                        shut down completely before restoring power.</p>
                                </div>
                                <div class="camera-tip">
                                    <span class="text-xl">â³</span>
                                    <div>
                                        <p>Use the timer app on your phone so you donâ€™t rush it. This single minute
                                            fixes most offline camera issues.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-camera bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-camera bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>

                    <!-- Step 6 -->
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">6</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-blue-500 font-semibold">Bring it back
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Restore Power</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">Plug the NVR (and UPS, if you
                                        have one) back in. The alarm box stays powered the entire time.</p>
                                </div>
                                <div class="camera-note">
                                    <p class="font-semibold text-blue-600 mb-2">Have a screen nearby?</p>
                                    <p class="text-sm text-gray-600">Connecting an HDMI TV/monitor and a USB mouse now
                                        will let us troubleshoot live visuals during the call.</p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-camera bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-camera bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>

                    <!-- Step 7 -->
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">7</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-blue-500 font-semibold">Final check
                                    </p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Youâ€™re Ready for Support</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">The cameras may take a few
                                        minutes to show live video again. If any stay offline, weâ€™ll handle it together.
                                    </p>
                                </div>
                                <div class="camera-contact-bubble space-y-2">
                                    <p class="font-semibold text-gray-800">Optional (but huge time saver): have a
                                        monitor & mouse ready when we call.</p>
                                    <button id="monitorInfoBtn"
                                        class="text-blue-700 underline font-semibold inline-flex items-center gap-1">Why
                                        is a monitor helpful?</button>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex flex-col sm:flex-row sm:justify-between gap-3">
                            <button
                                class="prev-btn-camera bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button id="cameraFinishedBtn"
                                class="bg-green-500 hover:bg-green-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">All
                                Done!</button>
                        </div>
                    </div>
                </div>

                <button id="cameraBackBtn"
                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 mt-8 text-base">
                    <svg xmlns="http://www.w-3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Back to Main Menu</span>
                </button>
            </div>

            <!-- Access Control View -->
            <div id="accessControlView" class="hidden view-transition">
                <div class="text-center space-y-3 mb-8">
                    <h1 class="text-3xl font-bold">Access Control Preparation</h1>
                    <p class="text-gray-600 text-base sm:text-lg font-semibold">Complete this quick checklist so we know
                        exactly which door hardware and permissions to focus on.</p>
                    <p
                        class="inline-flex items-center gap-2 bg-emerald-50 text-emerald-700 font-semibold text-sm px-4 py-2 rounded-full">
                        <span>ðŸ—‚ï¸ Average time: 4 minutes</span>
                    </p>
                </div>

                <div class="mb-8" id="accessProgressWrapper">
                    <div class="relative pt-1">
                        <div class="flex mb-2 items-center justify-between">
                            <p class="text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-wide">
                                Preparation checklist</p>
                            <span id="accessProgressLabel"
                                class="text-xs font-semibold inline-block py-1 px-3 rounded-full text-emerald-600 bg-emerald-100">Step
                                1 of 3</span>
                        </div>
                        <div class="overflow-hidden h-2 text-xs flex rounded bg-emerald-100">
                            <div id="accessProgressBar" style="width: 33%"
                                class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-emerald-500 transition-all duration-500">
                            </div>
                        </div>
                    </div>
                </div>

                <div id="accessSteps" class="space-y-6">
                    <!-- Step 1 -->
                    <div class="camera-prep-step tutorial-step-card">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">1</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-emerald-600 font-semibold">Identify
                                        the hardware</p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Gather Device Details</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">Look directly on the keypad,
                                        reader, door controller, or gate motor for identifying labels.</p>
                                </div>
                                <div class="camera-note">
                                    <p class="font-semibold text-gray-800 mb-2 text-sm uppercase tracking-wide">Helpful
                                        info</p>
                                    <ul class="list-disc list-inside text-gray-600 font-medium space-y-1 text-sm">
                                        <li>Model number / name</li>
                                        <li>Serial number</li>
                                        <li>Brand or manufacturer</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-end">
                            <button
                                class="next-btn-access bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>

                    <!-- Step 2 -->
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">2</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-emerald-600 font-semibold">Describe
                                        the issue</p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Capture whatâ€™s happening</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">Note which doors, users, or
                                        schedules are affected and whether the problem is constant or random.</p>
                                </div>
                                <div class="camera-tip">
                                    <span class="text-xl">ðŸ“</span>
                                    <div>
                                        <p>Take a quick photo or screenshot of any error message you see in the app or
                                            on the keypad.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-access bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-access bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>

                    <!-- Step 3 -->
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">3</div>
                            <div class="space-y-4">
                                <div>
                                    <p class="text-sm uppercase tracking-wide text-emerald-600 font-semibold">Plan the
                                        call</p>
                                    <h3 class="font-bold text-2xl text-gray-900 mt-1">Share access & contact info</h3>
                                    <p class="text-gray-600 font-medium mt-2 text-base">Let us know who can grant us
                                        access to the equipment room or network cabinet during the session.</p>
                                </div>
                                <div class="camera-contact-bubble space-y-2">
                                    <p class="font-semibold text-gray-800">Need to send details ahead of time?</p>
                                    <div class="phone-number-container flex items-center justify-center gap-3"
                                        data-number="8326106820">
                                        <span class="phone-number font-bold text-2xl text-gray-900"
                                            data-number="8326106820">832-610-6820</span>
                                        <button class="phone-action-btn inline-flex align-middle"
                                            data-text-only="false">
                                            <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/speechbubble.png"
                                                alt="Text or Call" class="h-7 w-7">
                                        </button>
                                    </div>
                                    <p class="text-xs text-gray-500">Monâ€“Fri Â· 8 AM â€“ 5 PM CST</p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex flex-col sm:flex-row sm:justify-between gap-3">
                            <button
                                class="prev-btn-access bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button id="accessFinishedBtn"
                                class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">All
                                Set!</button>
                        </div>
                    </div>
                </div>

                <button id="accessBackBtn"
                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-all	duration-300 flex items-center justify-center gap-2 text-base mt-8">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Back</span>
                </button>
            </div>

            <!-- Alarm Hub View -->
            <div id="alarmHubView" class="hidden view-transition">
                <div class="space-y-3 mb-8">
                    <div
                        class="bg-gradient-to-r from-rose-500 via-red-500 to-orange-500 text-white rounded-3xl p-6 sm:p-7 shadow-lg">
                        <div class="flex flex-col lg:flex-row items-start gap-6">
                            <div class="flex-1 space-y-3 text-center lg:text-left">
                                <p
                                    class="inline-flex items-center gap-2 text-xs uppercase tracking-wide font-semibold bg-white/20 px-3 py-1 rounded-full mx-auto lg:mx-0">
                                    Alarm prep</p>
                                <h1 class="text-2xl sm:text-3xl font-black leading-tight">Alarm System Preparation</h1>
                                <p class="text-white/80 font-medium text-sm sm:text-base">Pick the workflow that mirrors
                                    your symptoms so we can line up the right diagnostics before our remote session.</p>
                            </div>
                            <div class="grid grid-cols-2 gap-3 text-center w-full lg:w-auto">
                                <div class="bg-white/20 rounded-2xl px-3 py-2">
                                    <p class="text-xl font-black">2</p>
                                    <p class="text-[10px] uppercase tracking-wide text-white/80">Workflows</p>
                                </div>
                                <div class="bg-white/20 rounded-2xl px-3 py-2">
                                    <p class="text-xl font-black">5 min</p>
                                    <p class="text-[10px] uppercase tracking-wide text-white/80">Avg prep</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <button id="panelIssuesBtn"
                        class="group bg-white border border-rose-100 rounded-3xl p-5 text-left shadow-md hover:shadow-xl hover:-translate-y-1 transition-all.duration-300 space-y-3">
                        <div class="flex items-center gap-3">
                            <div class="bg-rose-50 text-rose-600 p-3 rounded-2xl">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                        d="M9 12h6m-6 4h6M7 6h10l2 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V8a2 2 0 012-2z" />
                                </svg>
                            </div>
                            <div>
                                <p class="text-xs uppercase tracking-wide text-rose-500 font-semibold">Panel workflow
                                </p>
                                <p class="text-2xl font-extrabold text-gray-900 leading-tight">General Panel Issues</p>
                            </div>
                        </div>
                        <ul class="space-y-1.5 text-sm text-gray-600 font-semibold pl-1">
                            <li>â€¢ Blank or frozen screens</li>
                            <li>â€¢ Connectivity dropouts</li>
                            <li>â€¢ Slow or unresponsive menus</li>
                        </ul>
                        <span
                            class="text-sm font-semibold text-rose-500 group-hover:translate-x-1 transition inline-flex items-center gap-1">Launch
                            panel prep &rarr;</span>
                    </button>
                    <button id="sensorIssuesBtn"
                        class="group bg-white border border-orange-100 rounded-3xl p-5 text-left shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300 space-y-3">
                        <div class="flex items-center gap-3">
                            <div class="bg-orange-50 text-orange-600 p-3 rounded-2xl">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                        d="M12 8c1.657 0 3-1.343 3-3S13.657 2 12 2 9 3.343 9 5s1.343 3 3 3zM7 21v-4H5a2 2 0 01-2-2v-2a2 2 0 012-2h14a2 2 0 012 2v2a2 2 0 01-2 2h-2v4" />
                                </svg>
                            </div>
                            <div>
                                <p class="text-xs uppercase tracking-wide text-orange-500 font-semibold">Sensor workflow
                                </p>
                                <p class="text-2xl font-extrabold text-gray-900 leading-tight">Sensor Issues</p>
                            </div>
                        </div>
                        <ul class="space-y-1.5 text-sm text-gray-600 font-semibold pl-1">
                            <li>â€¢ Persistent â€œsensor openâ€ alerts</li>
                            <li>â€¢ Tamper or low-battery warnings</li>
                            <li>â€¢ Devices falling offline intermittently</li>
                        </ul>
                        <span
                            class="text-sm font-semibold text-orange-500 group-hover:translate-x-1 transition inline-flex items-center gap-1">Launch
                            sensor prep &rarr;</span>
                    </button>
                </div>
                <div class="camera-contact-bubble space-y-3 text-center sm:text-left mt-6">
                    <p class="text-sm font-semibold text-gray-800">Need help picking a workflow?</p>
                    <div class="phone-number-container flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-3"
                        data-number="8326106820">
                        <span class="phone-number font-bold text-2xl text-gray-900"
                            data-number="8326106820">832-610-6820</span>
                        <button class="phone-action-btn inline-flex align-middle" data-text-only="false">
                            <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/speechbubble.png"
                                alt="Text or Call" class="h-7 w-7">
                        </button>
                    </div>
                    <p class="text-sm text-gray-600 font-semibold">Text â€œAlarm prep helpâ€ and weâ€™ll reply within
                        minutes.</p>
                    <button id="diagnosticRequestBtn"
                        class="inline-flex items-center justify-center gap-2 w-full sm:w-auto bg-white border border-rose-200 text-rose-600 font-semibold px-4 py-2 rounded-2xl shadow-sm hover:shadow-md transition">
                        <span
                            class="text-[10px] uppercase tracking-wide bg-rose-100 text-rose-600 font-bold px-2 py-0.5 rounded-full">Free</span>
                        <span>Request diagnostic run</span>
                    </button>
                </div>
                <button id="alarmHubBackBtn"
                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 mt-8 flex items-center justify-center gap-2 text-base">
                    <svg xmlns="http://www.w-3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Back to Main Menu</span>
                </button>
            </div>

            <!-- Alarm - General Panel Issues View -->
            <div id="panelIssuesView" class="hidden view-transition">
                <div class="text-center space-y-3 mb-8">
                    <h1 class="text-3xl font-bold">General Panel Issues</h1>
                    <p class="text-gray-600 text-base sm:text-lg font-semibold">Follow these steps to reboot your IQ
                        Panel 4 safely before we hop on a call.</p>
                </div>
                <div class="mb-8">
                    <div class="relative pt-1">
                        <div class="flex mb-2 items-center justify-between">
                            <p class="text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-wide">Panel
                                reboot checklist</p>
                            <span id="panelProgressLabel"
                                class="text-xs font-semibold inline-block py-1 px-3 rounded-full text-teal-600 bg-teal-100">Step
                                1 of 6</span>
                        </div>
                        <div class="overflow-hidden h-2 text-xs flex rounded bg-teal-100">
                            <div id="panelProgressBar" style="width: 16%"
                                class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-teal-500 transition-all duration-500">
                            </div>
                        </div>
                    </div>
                </div>
                <div id="panelIssuesSteps" class="space-y-6">
                    <div class="camera-prep-step tutorial-step-card">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">1</div>
                            <div class="space-y-4">
                                <p class="text-sm uppercase tracking-wide text-teal-600 font-semibold">Identify your
                                    account</p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Text Us the Account Name</h3>
                                <p class="text-gray-600 font-medium mt-2 text-base">Send the full name on your Alarm.com
                                    account so we can pull up the right profile before the call.</p>
                                <div class="camera-contact-bubble space-y-2">
                                    <p class="font-semibold text-gray-800">Text or call us:</p>
                                    <div class="phone-number-container flex items-center justify-center gap-3"
                                        data-number="8326106820">
                                        <span class="phone-number font-bold text-2xl text-gray-900"
                                            data-number="8326106820">832-610-6820</span>
                                        <button class="phone-action-btn inline-flex align-middle"
                                            data-text-only="false">
                                            <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/speechbubble.png"
                                                alt="Text or Call" class="h-7 w-7">
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-end">
                            <button
                                class="next-btn-panel bg-teal-500 hover:bg-teal-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">2</div>
                            <div>
                                <p class="text-sm uppercase tracking-wide text-teal-600 font-semibold">Go to the panel
                                </p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Stand in Front of the Screen</h3>
                                <p class="text-gray-600 font-medium mt-2 text-base">Wake up the IQ Panel 4 screen so you
                                    can follow the next prompts.</p>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-panel bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-panel bg-teal-500 hover:bg-teal-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">3</div>
                            <div>
                                <p class="text-sm uppercase tracking-wide text-teal-600 font-semibold">Open advanced
                                    settings</p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Access the Reboot Menu</h3>
                                <p class="text-gray-600 font-medium mt-2 text-base">Swipe down from the top, then tap
                                    <span class="font-semibold">Settings &rarr; Advanced Settings</span>.
                                </p>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-panel bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-panel bg-teal-500 hover:bg-teal-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">4</div>
                            <div class="space-y-4">
                                <p class="text-sm uppercase tracking-wide text-teal-600 font-semibold">Authenticate</p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Enter Your Master Code</h3>
                                <p class="text-gray-600 font-medium mt-2 text-base">Use the 4-digit master code. If you
                                    donâ€™t have it, text us and weâ€™ll provide it before your call.</p>
                                <div class="camera-tip">
                                    <span class="text-xl">ðŸ”</span>
                                    <div>Need the code? Text <strong>832-610-6820</strong> and mention â€œAlarm codeâ€.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-panel bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-panel bg-teal-500 hover:bg-teal-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">5</div>
                            <div>
                                <p class="text-sm uppercase tracking-wide text-teal-600 font-semibold">Restart</p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Tap â€œReboot Panelâ€</h3>
                                <p class="text-gray-600 font-medium mt-2 text-base">Confirm <span
                                        class="font-semibold">OK</span> when prompted. The screen will go dark briefly.
                                </p>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-panel bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-panel bg-teal-500 hover:bg-teal-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <div class="camera-prep-step tutorial-step-card.hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">6</div>
                            <div>
                                <p class="text-sm uppercase tracking-wide text-teal-600 font-semibold">Let it finish</p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Wait 3 Minutes</h3>
                                <p class="text-gray-600 font-medium mt-2 text-base">Do not touch the panel while it
                                    reboots. The home screen will appear when ready.</p>
                            </div>
                        </div>
                        <div class="mt-8 flex flex-col sm:flex-row sm:justify-between gap-3">
                            <button
                                class="prev-btn-panel bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button id="panelFinishedBtn"
                                class="bg-green-500 hover:bg-green-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">All
                                Done!</button>
                        </div>
                    </div>
                </div>
                <button id="panelIssuesBackBtn"
                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 text-base mt-8">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Back to Alarm Menu</span>
                </button>
            </div>

            <!-- Alarm - Sensor Issues View -->
            <div id="sensorIssuesView" class="hidden view-transition">
                <div class="text-center space-y-3 mb-8">
                    <h1 class="text-3xl font-bold">Sensor Issues</h1>
                    <p class="text-gray-600 text-base sm:text-lg font-semibold">Work through these quick checks for
                        â€œsensor open,â€ tamper, or low-battery alerts.</p>
                </div>
                <div class="mb-8">
                    <div class="relative pt-1">
                        <div class="flex mb-2 items-center justify-between">
                            <p class="text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-wide">Sensor
                                checklist</p>
                            <span id="sensorProgressLabel"
                                class="text-xs font-semibold inline-block py-1 px-3 rounded-full text-indigo-600 bg-indigo-100">Step
                                1 of 4</span>
                        </div>
                        <div class="overflow-hidden h-2 text-xs flex rounded bg-indigo-100">
                            <div id="sensorProgressBar" style="width: 25%"
                                class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-indigo-500 transition-all duration-500">
                            </div>
                        </div>
                    </div>
                </div>
                <div id="sensorIssuesSteps" class="space-y-6">
                    <div class="camera-prep-step tutorial-step-card">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">1</div>
                            <div class="space-y-4">
                                <p class="text-sm uppercase tracking-wide text-indigo-600 font-semibold">Identify the
                                    account</p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Send Us the Account Name</h3>
                                <p class="text-gray-600 font-medium mt-2 text-base">Text the full Alarm.com account name
                                    so we can review the sensor list before calling.</p>
                                <div class="camera-contact-bubble space-y-2">
                                    <p class="font-semibold text-gray-800">Text or call:</p>
                                    <div class="phone-number-container flex items-center justify-center gap-3"
                                        data-number="8326106820">
                                        <span class="phone-number font-bold text-2xl text-gray-900"
                                            data-number="8326106820">832-610-6820</span>
                                        <button class="phone-action-btn inline-flex align-middle"
                                            data-text-only="false">
                                            <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/speechbubble.png"
                                                alt="Text or Call" class="h-7 w-7">
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-end">
                            <button
                                class="next-btn-sensor bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">2</div>
                            <div>
                                <p class="text-sm uppercase tracking-wide text-indigo-600 font-semibold">Locate it</p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Find the Problem Sensor</h3>
                                <p class="text-gray-600 font-medium mt-2 text-base">Match the zone name (e.g., â€œFront
                                    Doorâ€) with the physical device.</p>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-sensor bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-sensor bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">3</div>
                            <div class="space-y-4">
                                <p class="text-sm uppercase tracking-wide text-indigo-600 font-semibold">Inspect closely
                                </p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Check Alignment and Covers</h3>
                                <ul class="list-disc list-inside text-gray-600 font-medium space-y-1 text-base">
                                    <li>Doors/Windows: make sure the sensor and magnet line up.</li>
                                    <li>Motion detectors: clear any objects blocking the lens.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button
                                class="prev-btn-sensor bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button
                                class="next-btn-sensor bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">Next</button>
                        </div>
                    </div>
                    <div class="camera-prep-step tutorial-step-card hidden">
                        <div class="flex flex-col sm:flex-row gap-4 sm:items-start">
                            <div class="camera-step-badge">4</div>
                            <div>
                                <p class="text-sm uppercase tracking-wide text-indigo-600 font-semibold">Test</p>
                                <h3 class="font-bold text-2xl text-gray-900 mt-1">Open and Close the Sensor</h3>
                                <p class="text-gray-600 font-medium mt-2 text-base">Watch the panel: does the zone
                                    change state? Let us know during the call.</p>
                            </div>
                        </div>
                        <div class="mt-8 flex flex-col sm:flex-row sm:justify-between gap-3">
                            <button
                                class="prev-btn-sensor bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2.5 px-6 rounded-lg text-base">Previous</button>
                            <button id="sensorFinishedBtn"
                                class="bg-green-500 hover:bg-green-600 text-white font-bold py-2.5 px-6 rounded-lg text-base">All
                                Done!</button>
                        </div>
                    </div>
                </div>
                <button id="sensorIssuesBackBtn"
                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 text-base mt-8">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Back to Alarm Menu</span>
                </button>
            </div>

        </main>
    </div>

    <!-- Footer -->
    <footer class="text-center p-4 mt-8 text-sm text-gray-500 border-t border-gray-200">
        &copy; 2025 Ageint Security. All rights reserved.
        <p class="text-xs mt-2">Please note: This website is frequently undergoing maintenance to improve your
            experience.</p>
    </footer>

    <!-- Modals -->
    <div id="infoModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-2xl shadow-lg p-8 max-w-xl w-full text-gray-800 border relative transition-transform duration-300 transform scale-95">
            <button id="closeInfoModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <div class="space-y-4">
                <p
                    class="inline-flex items-center gap-2 bg-blue-50 text-blue-700 font-semibold text-xs uppercase tracking-wide px-3 py-1 rounded-full w-max">
                    About this portal</p>
                <h2 class="text-2xl font-bold text-gray-900">Built & maintained by Levi McCarty</h2>
                <p class="text-gray-600 text-base font-semibold">Technical Support &amp; Software Engineer, Ageint
                    Security</p>
                <div class="camera-note">
                    <p class="font-semibold text-gray-800 mb-2">Living, breathing work-in-progress</p>
                    <p class="text-gray-600 text-base">Youâ€™re using an actively developed experience. Expect occasional
                        rough edges, and please let me know if you hit oneâ€”every report helps tighten things up for the
                        next visitor.</p>
                </div>
                <div class="camera-contact-bubble space-y-2">
                    <p class="font-semibold text-gray-800">Spotted a bug or have feedback?</p>
                    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-center gap-3">
                        <a href="mailto:lmccarty@ageintsecurity.com"
                            class="inline-flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded-full transition">
                            <span>Email me directly</span>
                        </a>
                    </div>
                    <p class="text-xs text-gray-500">lmccarty@ageintsecurity.com</p>
                </div>
                <p class="text-gray-600 text-sm font-semibold">Thanks for being part of the journey.</p>
            </div>
        </div>
    </div>
    <div id="monitorModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-2xl shadow-lg p-8 max-w-lg w-full text-gray-800 border relative transition-transform duration-300 transform scale-95">
            <button id="closeMonitorModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <h2 class="text-2xl font-bold mb-4">Why a Monitor is Helpful</h2>
            <p class="mb-4 text-gray-700 font-semibold text-base">Having a monitor handy significantly speeds up our
                call and helps with processes like:</p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 font-semibold text-base">
                <li>Bringing cameras back online</li>
                <li>Adding new cameras</li>
                <li>Changing time settings</li>
                <li>General system training</li>
            </ul>
        </div>
    </div>
    <div id="trainingModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-3xl shadow-2xl p-10 max-w-3xl w-full text-gray-800 border border-gray-100 relative transition-transform duration-300 transform scale-95">
            <button id="closeTrainingModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-500 hover:text-gray-900 leading-none">&times;</button>
            <div class="grid md:grid-cols-5 gap-10 items-start">
                <div class="md:col-span-3 space-y-6">
                    <p
                        class="inline-flex items-center gap-2 bg-emerald-50 text-emerald-700 font-semibold text-xs uppercase tracking-wide px-3 py-1 rounded-full w-max">
                        Customer refresher</p>
                    <h2 class="text-3xl font-bold leading-tight">Request System Training</h2>
                    <p class="text-gray-600 text-base font-semibold">Already installed but still learning? Iâ€™ll hop on a
                        screen-share or call and walk you or your team through the everyday tasks that matter.</p>
                    <div class="space-y-3">
                        <div
                            class="flex items-start gap-3 rounded-2xl border border-emerald-100 bg-emerald-50/70 p-3 shadow-sm">
                            <span class="text-xl">ðŸ“‹</span>
                            <div>
                                <p class="font-semibold text-gray-800">Focus on your setup</p>
                                <p class="text-sm leading-relaxed text-gray-600">Weâ€™ll review your installed cameras,
                                    sensors, or access devices and show you how to use them confidently.</p>
                            </div>
                        </div>
                        <div
                            class="flex items-start gap-3 rounded-2xl border border-emerald-100 bg-white p-3 shadow-sm">
                            <span class="text-xl">ðŸ‘¥</span>
                            <div>
                                <p class="font-semibold text-gray-800">Perfect for new staff</p>
                                <p class="text-sm leading-relaxed text-gray-600">Schedule a quick onboarding session
                                    whenever you bring someone new onto the system.</p>
                            </div>
                        </div>
                        <div
                            class="flex items-start gap-3 rounded-2xl border border-emerald-100 bg-white p-3 shadow-sm">
                            <span class="text-xl">ðŸ’¡</span>
                            <div>
                                <p class="font-semibold text-gray-800">Ask anything</p>
                                <p class="text-sm leading-relaxed text-gray-600">Firmware updates, notification rules,
                                    exporting clipsâ€”bring a list and weâ€™ll check them off together.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="md:col-span-2 bg-gray-50 rounded-2xl p-6 space-y-4 shadow-inner border border-gray-100">
                    <p class="text-sm uppercase tracking-wide text-gray-500 font-semibold">Talk with Levi</p>
                    <div class="camera-contact-bubble space-y-3">
                        <div class="phone-number-container flex items-center justify-center gap-3"
                            data-number="8326106820">
                            <span class="phone-number font-bold text-xl text-gray-900"
                                data-number="8326106820">832-610-6820</span>
                            <button class="phone-action-btn inline-flex align-middle shrink-0" data-text-only="false">
                                <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/speechbubble.png"
                                    alt="Text or Call" class="h-6 w-6 object-contain">
                            </button>
                        </div>
                        <a href="mailto:lmccarty@ageintsecurity.com"
                            class="inline-flex items-center justify-center gap-2 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2.5 rounded-full transition text-[11px] sm:text-xs leading-tight text-center whitespace-normal break-words">
                            <span class="inline-block max-w-full">Email lmccarty@ageintsecurity.com</span>
                        </a>
                    </div>
                    <div class="space-y-2 text-sm font-semibold text-gray-600">
                        <p><span class="font-bold">Direct line:</span> 8a â€“ 5p Â· Monâ€“Fri</p>
                        <p><span class="font-bold">On-call emergency:</span> 8a â€“ 10p Â· Daily</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="alarmPanelModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-3xl shadow-2xl p-6 sm:p-8 max-w-3xl w-full text-gray-800 border border-gray-100.relative transition-transform duration-300 transform scale-95 overflow-y-auto max-h-[90vh]">
            <button id="closeAlarmPanelModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-500 hover:text-gray-900 leading-none">&times;</button>
            <div class="space-y-6 md:grid md:grid-cols-2 md:gap-8 md:items-start md:space-y-0">
                <div class="space-y-4 text-center md:text-left">
                    <p
                        class="inline-flex items-center gap-2 bg-purple-50 text-purple-700 font-semibold text-xs uppercase tracking-wide px-3 py-1 rounded-full w-max mx-auto md:mx-0">
                        Before you continue</p>
                    <h2 class="text-2xl sm:text-3xl font-bold leading-tight text-gray-900">Confirm Your Alarm Panel</h2>
                    <p class="text-gray-600 text-base font-semibold">These steps are written specifically for the <span
                            class="font-bold">IQ Panel 4</span>. Make sure your panel matches the photo below.</p>
                    <div
                        class="my-4 p-4 border border-dashed rounded-2xl bg-gray-50 flex flex-col items-center gap-3 shadow-inner">
                        <img src="https://suretyhome.com/wp-content/uploads/bundle-01-iqp4.png" alt="IQ Panel 4"
                            class="rounded-xl border border-gray-200 shadow-sm w-full max-w-xs">
                        <p class="text-sm font-semibold text-gray-600">IQ Panel 4</p>
                    </div>
                </div>
                <div class="space-y-4">
                    <div class="camera-contact-bubble space-y-3 text-center md:text-left">
                        <p class="font-semibold text-gray-800">Panel doesnâ€™t match?</p>
                        <div class="phone-number-container flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-3"
                            data-number="8326106820">
                            <span class="phone-number font-bold text-2xl text-gray-900"
                                data-number="8326106820">832-610-6820</span>
                            <button class="phone-action-btn inline-flex align-middle" data-text-only="false">
                                <img src="https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/speechbubble.png"
                                    alt="Text or Call" class="h-7 w-7">
                            </button>
                        </div>
                        <p class="text-sm text-gray-600 font-medium">Text me a quick photo of your panel and Iâ€™ll reply
                            with the correct guide.</p>
                    </div>
                    <div
                        class="bg-gray-50 border border-gray-100 rounded-2xl p-4 space-y-2 text-sm font-semibold text-gray-600 text-center md:text-left">
                        <p><span class="font-bold text-gray-800">Need a diagnostic?</span> Text <span
                                class="font-bold">832-610-6820</span> anytime and request a full alarm panel check.</p>
                        <p>Include your name in the textâ€”most diagnostics wrap in about <span
                                class="text-gray-800 font-bold">10 minutes</span>.</p>
                    </div>
                    <div class="flex flex-col md:flex-row justify-end gap-3 mt-4">
                        <button id="backFromAlarmModalBtn"
                            class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2.5 px-5 rounded-lg text-base w-full md:w-auto">Go
                            Back</button>
                        <button id="continueToAlarmBtn"
                            class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2.5 px-5 rounded-lg text-base w-full md:w-auto">Looks
                            good, continue</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- UPS Info Modal -->
    <div id="upsModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-2xl shadow-2xl p-5 max-w-md w-full text-gray-800 border border-slate-200 relative transition-transform duration-300 transform scale-95">
            <button id="closeUpsModalBtn"
                class="absolute top-3 right-3 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <div class="space-y-4 text-center">
                <h2 class="text-xl font-bold text-gray-900">Backup Battery (UPS)</h2>
                <img src="https://i.ebayimg.com/images/g/rMIAAOSwqQNm2maj/s-l1200.jpg" alt="Backup Battery / UPS"
                    class="rounded-xl w-full h-auto max-h-64 object-contain border border-slate-200 mx-auto">
            </div>
        </div>
    </div>

    <!-- Alarm Box Info Modal -->
    <div id="alarmBoxModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-2xl shadow-lg p-8 max-w-lg w-full text-gray-800 border border-gray-200/80 relative transition-transform duration-300 transform scale-95">
            <button id="closeAlarmBoxModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <h2 class="text-2xl font-bold mb-4">Example Alarm Power Box</h2>
            <p class="mb-4 text-gray-700 font-semibold text-base">The alarm power supply is often a white box plugged
                into an outlet with two wires. It's critical this box does not lose power.</p>
            <div class="my-4 p-2 border rounded-lg bg-gray-100">
                <img src="https://zionssecurity.com/wp-content/uploads/2022/10/Q9-QR0051840_alt2.jpg"
                    alt="Alarm Power Box" class="rounded-md w-full w-full max-w-md mx-auto">
            </div>
        </div>
    </div>

    <!-- Diagnostic Modal -->
    <div id="diagnosticModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-3xl shadow-2xl p-6 sm:p-8 max-w-xl w-full text-gray-800 border border-gray-100 relative transition-transform duration-300 transform scale-95">
            <button id="closeDiagnosticModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <div class="space-y-6 text-center sm:text-left">
                <div class="space-y-3">
                    <p
                        class="inline-flex items-center gap-2 bg-green-50 text-green-700 font-semibold text-xs uppercase tracking-wide px-3 py-1 rounded-full w-max mx-auto sm:mx-0">
                        Complimentary diagnostic</p>
                    <h2 class="text-2xl font-bold leading-tight text-gray-900">Request an Alarm Panel Health Check</h2>
                    <p class="text-gray-600 font-semibold text-sm sm:text-base">Weâ€™ll run a remote diagnostic that flags
                        panel, sensor, or cellular issues before the call.</p>
                </div>
                <div
                    class="bg-gray-50 border border-gray-100 rounded-2xl p-4 space-y-2 text-sm font-semibold text-gray-700">
                    <p>1. Text <span class="font-bold text-gray-900">832-610-6820</span></p>
                    <p>2. Include your name + â€œRun alarm diagnosticâ€</p>
                    <p>3. Weâ€™ll confirm results in about <span class="text-gray-900 font-bold">10 minutes</span></p>
                </div>
                <a id="diagnosticTextLink"
                    href="sms:18326106820?body=Hi%20this%20is%20%5Byour%20name%5D.%20Please%20run%20a%20full%20alarm%20diagnostic."
                    class="inline-flex items-center justify-center gap-3 w-full bg-rose-600 hover:bg-rose-700 text-white font-bold px-4 py-2.5 rounded-2xl transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                            d="M3 5h2l1 5h13l1-5h2M6 10l1.5 9h9L18 10H6z" />
                    </svg>
                    <span>Text diagnostic request</span>
                </a>
            </div>
        </div>
    </div>

    <!-- SN on Phone Modal -->
    <div id="snOnPhoneModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-2xl shadow-lg p-8 max-w-lg w-full text-gray-800 border border-gray-200/80 relative transition-transform duration-300 transform scale-95">
            <button id="closeSnOnPhoneModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <h2 class="text-2xl font-bold mb-6">Find Your SN in the DMSS App</h2>
            <div class="space-y-5">
                <div class="flex items-start">
                    <div
                        class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-blue-100 text-blue-600 font-bold text-base mr-4">
                        1</div>
                    <p class="text-gray-700 font-semibold text-base">Open the <span class="font-bold">DMSS app</span>
                        and go to the <span class="font-bold">Home</span> page.</p>
                </div>
                <div class="flex items-start">
                    <div
                        class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-blue-100 text-blue-600 font-bold text-base mr-4">
                        2</div>
                    <p class="text-gray-700 font-semibold text-base">Find your camera system (e.g., "Home Cameras"). To
                        its right, you will see a play icon, an arrow, and three dots (...).</p>
                </div>
                <div class="flex items-start">
                    <div
                        class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-blue-100 text-blue-600 font-bold text-base mr-4">
                        3</div>
                    <p class="text-gray-700 font-semibold text-base">Tap the <span class="font-bold">three dots
                            (...)</span> and select <span class="font-bold">Device Details</span>.</p>
                </div>
                <div class="flex items-start">
                    <div
                        class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-blue-100 text-blue-600 font-bold text-base mr-4">
                        4</div>
                    <p class="text-gray-700 font-semibold text-base">Check the status at the top. If it does not say
                        <span class="font-bold text-blue-600">Online</span>, your system is offline.
                        <button id="offlineInfoBtn" class="inline-flex align-middle ml-1">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                                stroke="currentColor" class="w-5 h-5 text-blue-600 hover:text-blue-800">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" />
                            </svg>
                        </button>
                    </p>
                </div>
                <div class="flex items-start">
                    <div
                        class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-blue-100 text-blue-600 font-bold text-base mr-4">
                        5</div>
                    <p class="text-gray-700 font-semibold text-base">If the status is <span
                            class="font-bold text-blue-600">Online</span>, the <span class="font-bold">Serial
                            Number</span> may be listed here.</p>
                </div>
                <div class="flex items-start">
                    <div
                        class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-blue-100 text-blue-600 font-bold text-base mr-4">
                        6</div>
                    <p class="text-gray-700 font-semibold text-base">If not, tap the <span class="font-bold">edit
                            icon</span> (pencil & paper) at the top right to find the Serial Number.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Offline Info Modal -->
    <div id="offlineInfoModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-2xl shadow-lg p-8 max-w-lg w-full text-gray-800 border border-gray-200/80 relative transition-transform duration-300 transform scale-95">
            <button id="closeOfflineInfoModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <h2 class="text-2xl font-bold mb-4">Camera System Offline</h2>
            <p class="text-gray-700 font-semibold text-base">If your system is showing as "Offline," it is not connected
                to the internet. Please continue with the troubleshooting steps in this guide (starting from Step 2), as
                power cycling the system often resolves this issue.</p>
            <p class="mt-2 text-gray-700 font-semibold text-base">If the system is still offline after completing all
                steps, we will address it during our support call.</p>
        </div>
    </div>

    <!-- Wi-Fi Missing Modal -->
    <div id="wifiMissingModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-40 transition-opacity duration-300">
        <div
            class="bg-white rounded-3xl shadow-2xl p-6 sm:p-8 max-w-xl w-full text-gray-800 border border-blue-100 relative transition-transform duration-300 transform scale-95">
            <button id="closeWifiMissingModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <div class="space-y-6">
                <div class="space-y-3 text-center sm:text-left">
                    <p
                        class="inline-flex items-center gap-2 bg-blue-50 text-blue-700 font-semibold text-xs uppercase tracking-wide px-3 py-1 rounded-full mx-auto sm:mx-0">
                        Can't see Ageint Wi-Fi</p>
                    <h2 class="text-2xl font-bold leading-tight text-gray-900">Quick router refresh</h2>
                    <p class="text-gray-600 font-semibold text-sm sm:text-base">Letâ€™s power-cycle the white router so
                        the <span class="font-semibold text-blue-700">Ageint Data 2.4 / 5</span> networks reappear.</p>
                </div>
                <div class="space-y-4">
                    <div class="flex gap-3">
                        <div
                            class="h-9 w-9 rounded-2xl bg-blue-100 text-blue-700 font-bold flex items-center justify-center">
                            1</div>
                        <div>
                            <p class="font-semibold text-gray-900">Locate the white router near your system.</p>
                            <p class="text-gray-600 text-sm font-medium">Itâ€™s usually next to the NVR or modem.</p>
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <div
                            class="h-9 w-9 rounded-2xl bg-blue-100 text-blue-700 font-bold flex items-center justify-center">
                            2</div>
                        <div>
                            <p class="font-semibold text-gray-900">Unplug the router for a full 60 seconds.</p>
                            <p class="text-gray-600 text-sm font-medium">Count it outâ€”this clears the cache.</p>
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <div
                            class="h-9 w-9 rounded-2xl bg-blue-100 text-blue-700 font-bold flex items-center justify-center">
                            3</div>
                        <div>
                            <p class="font-semibold text-gray-900">Plug it back in and wait 3 minutes.</p>
                            <p class="text-gray-600 text-sm font-medium">Lights should turn solid again.</p>
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <div
                            class="h-9 w-9 rounded-2xl bg-blue-100 text-blue-700 font-bold flex items-center justify-center">
                            4</div>
                        <div>
                            <p class="font-semibold text-gray-900">Check your Wi-Fi list again.</p>
                            <p class="text-gray-600 text-sm font-medium">Look for <span
                                    class="font-semibold text-blue-700">Ageint Data 2.4</span> or <span
                                    class="font-semibold text-blue-700">Ageint Data 5</span>.</p>
                        </div>
                    </div>
                </div>
                <div
                    class="bg-blue-50 border border-blue-100 rounded-2xl p-4 space-y-2 text-sm font-semibold text-blue-900">
                    <p class="flex items-center gap-2"><span class="h-2 w-2 rounded-full bg-blue-500"></span>If you
                        still donâ€™t see it, text us a screenshot of the Wi-Fi list.</p>
                    <p class="text-blue-700">832-610-6820 Â· Levi / Ageint Security</p>
                    <a href="sms:18326106820?body=Hi%2C%20I%20still%20cannot%20see%20Ageint%20Data.%20Here%20is%20a%20screenshot%20of%20my%20Wi-Fi%20list."
                        data-contact-context="wifi_missing_screenshot"
                        class="inline-flex items-center justify-center gap-2 bg-white text-blue-700 border border-blue-200 rounded-xl px-3 py-2 text-sm font-semibold hover:bg-blue-100 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                d="M17 8h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2m4-4h6a2 2 0 0 1 2 2v2H9a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z" />
                        </svg>
                        <span>Text screenshot</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- SMS Prefill Modal -->
    <div id="smsPrefillModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300">
        <div
            class="bg-white rounded-3xl shadow-2xl p-6 sm:p-8 max-w-lg w-full text-gray-800 border border-gray-200/80 relative transition-transform duration-300 transform scale-95">
            <button id="closeSmsPrefillModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <div class="space-y-5">
                <div class="space-y-1">
                    <p id="smsPrefillBadge"
                        class="inline-flex items-center gap-2 text-[10px] uppercase tracking-wide font-semibold px-3 py-1 rounded-full bg-emerald-50 text-emerald-700">
                        Alarm systems</p>
                    <h2 id="smsPrefillTitle" class="text-2xl font-bold text-gray-900">Request Alarm Diagnostic</h2>
                    <p id="smsPrefillSubtitle" class="text-sm text-gray-600 font-semibold">Tell us who weâ€™re helping so
                        we can personalize the diagnostic text for you.</p>
                </div>
                <div class="space-y-2">
                    <label for="smsPrefillNameInput" class="text-sm font-semibold text-gray-800">Name on the
                        account</label>
                    <input id="smsPrefillNameInput" type="text"
                        class="w-full rounded-xl border border-gray-200 px-4 py-2.5 text-gray-800 font-semibold focus:ring-2 focus:ring-emerald-200 focus:border-emerald-300 transition"
                        placeholder="e.g., Alex Parker">
                    <p class="text-xs font-semibold text-gray-500">Weâ€™ll drop this into your text automatically.</p>
                </div>
                <p id="smsPrefillError" class="text-sm text-red-600 font-semibold hidden">Please add the account name
                    before sending.</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <button id="smsPrefillCancelBtn" type="button"
                        class="w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-gray-200 text-gray-700 font-semibold hover:bg-gray-50 transition">Close</button>
                    <button id="smsPrefillSendBtn" type="button" disabled
                        class="w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white font-semibold opacity-60 cursor-not-allowed transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                d="M4 7v13a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V7M16 3H8a1 1 0 0 0-1 1v3h10V4a1 1 0 0 0-1-1z" />
                        </svg>
                        <span>Open text message</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Roadmap Info Modal -->
    <div id="roadmapInfoModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300">
        <div
            class="bg-gradient-to-br from-white via-amber-50 to-white rounded-3xl shadow-2xl p-6 sm:p-8 max-w-2xl w-full text-gray-800 border border-amber-100 relative transition-transform duration-300 transform scale-95">
            <button id="closeRoadmapInfoModalBtn"
                class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-gray-900 leading-none">&times;</button>
            <div class="space-y-6">
                <div class="space-y-5">
                    <div class="space-y-3">
                        <p
                            class="inline-flex items-center gap-2 text-[10px] uppercase tracking-wide font-semibold px-3 py-1 rounded-full bg-amber-100 text-amber-800 w-max">
                            Future roadmap</p>
                        <h2 class="text-3xl font-bold text-gray-900 leading-tight">Plan enhancements & next steps</h2>
                        <p class="text-gray-600 font-semibold text-sm">Your sales representative will help you build a
                            personalized upgrade strategy tailored to your site.</p>
                    </div>
                    <div class="grid sm:grid-cols-2 gap-4">
                        <div
                            class="bg-gradient-to-br from-white to-amber-50/40 rounded-2xl border border-amber-200/80 p-5 shadow-sm hover:shadow-md transition">
                            <div class="flex items-start gap-3 mb-3">
                                <div class="bg-amber-100 rounded-xl p-2 shrink-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-amber-700" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                                    </svg>
                                </div>
                                <div class="flex-1">
                                    <p class="text-amber-700 font-bold text-sm uppercase tracking-wide mb-2">Tailored
                                        upgrade path</p>
                                    <p class="text-sm leading-relaxed text-gray-700 font-medium">Connect with your sales
                                        representative to map the smartest upgrade order for your exact site layout.</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="bg-gradient-to-br from-white to-amber-50/40 rounded-2xl border border-amber-200/80 p-5 shadow-sm hover:shadow-md transition">
                            <div class="flex items-start gap-3 mb-3">
                                <div class="bg-amber-100 rounded-xl p-2 shrink-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-amber-700" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <div class="flex-1">
                                    <p class="text-amber-700 font-bold text-sm uppercase tracking-wide mb-2">Ready-to-go
                                        execution</p>
                                    <p class="text-sm leading-relaxed text-gray-700 font-medium">When you're ready to
                                        add hardware or services, they'll handle approvals, paperwork, and technician
                                        scheduling.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    class="rounded-3xl border-2 border-amber-200 bg-gradient-to-br from-amber-50/60 to-white p-6 space-y-4 shadow-md">
                    <div class="space-y-2">
                        <p class="text-lg font-bold text-gray-900">Don't know who your sales rep is?</p>
                        <p class="text-sm font-semibold text-gray-600 leading-relaxed">Click below and we'll text you
                            back with their contact information.</p>
                    </div>
                    <button id="salesRepRequestBtn" type="button"
                        class="inline-flex items-center justify-center gap-2 w-full sm:w-auto bg-amber-500 hover:bg-amber-600 text-white font-semibold px-6 py-3 rounded-xl transition shadow-lg shadow-amber-200/60 hover:shadow-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                d="M12 6v12m6-6H6" />
                        </svg>
                        <span>Request</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Phone Action Pop-up -->
    <div id="phoneActionPopup"
        class="hidden absolute z-50 bg-white rounded-xl shadow-lg border border-gray-200 text-center w-44">
        <a id="callLink" href="#"
            class="block px-4 py-2 text-base font-semibold text-blue-600 hover:bg-gray-100 rounded-t-xl">Call</a>
        <a id="textLink" href="#"
            class="block px-4 py-2 text-base font-semibold text-blue-600 hover:bg-gray-100 rounded-b-xl">Text</a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- CONSTANTS AND ELEMENTS ---
            const views = {
                choice: document.getElementById('choiceView'),
                selfService: document.getElementById('selfServiceView'),
                newInstall: document.getElementById('newInstallView'),
                cameraTroubleshooting: document.getElementById('cameraTroubleshootingView'),
                alarmTroubleshooting: document.getElementById('alarmTroubleshootingView'),
                batteryTutorial: document.getElementById('batteryTutorialView'),
                dmssTutorial: document.getElementById('dmssTutorialView'),
                welcome: document.getElementById('welcomeView'),
                camera: document.getElementById('cameraView'),
                access: document.getElementById('accessControlView'),
                alarmHub: document.getElementById('alarmHubView'),
                panelIssues: document.getElementById('panelIssuesView'),
                sensorIssues: document.getElementById('sensorIssuesView'),
                routerFirmware: document.getElementById('routerFirmwareView'),
            };

            const modals = {
                info: { el: document.getElementById('infoModal'), openBtn: document.getElementById('infoBtn'), closeBtn: document.getElementById('closeInfoModalBtn') },
                monitor: { el: document.getElementById('monitorModal'), openBtn: document.getElementById('monitorInfoBtn'), closeBtn: document.getElementById('closeMonitorModalBtn') },
                training: { el: document.getElementById('trainingModal'), openBtn: document.getElementById('trainingBtn'), closeBtn: document.getElementById('closeTrainingModalBtn') },
                ups: { el: document.getElementById('upsModal'), openBtn: document.getElementById('upsInfoBtn'), closeBtn: document.getElementById('closeUpsModalBtn') },
                alarmBox: { el: document.getElementById('alarmBoxModal'), openBtn: document.getElementById('alarmBoxInfoBtn'), closeBtn: document.getElementById('closeAlarmBoxModalBtn') },
                snOnPhone: { el: document.getElementById('snOnPhoneModal'), openBtn: document.getElementById('findOnPhoneBtn'), closeBtn: document.getElementById('closeSnOnPhoneModalBtn') },
                offlineInfo: { el: document.getElementById('offlineInfoModal'), openBtn: document.getElementById('offlineInfoBtn'), closeBtn: document.getElementById('closeOfflineInfoModalBtn') },
                alarmPanel: { el: document.getElementById('alarmPanelModal'), closeBtn: document.getElementById('closeAlarmPanelModalBtn') },
                diagnostic: { el: document.getElementById('diagnosticModal'), openBtn: document.getElementById('diagnosticRequestBtn'), closeBtn: document.getElementById('closeDiagnosticModalBtn') },
                wifiHelp: { el: document.getElementById('wifiMissingModal'), openBtn: document.getElementById('wifiMissingBtn'), closeBtn: document.getElementById('closeWifiMissingModalBtn') },
                smsPrefill: { el: document.getElementById('smsPrefillModal'), closeBtn: document.getElementById('closeSmsPrefillModalBtn') },
                roadmapInfo: { el: document.getElementById('roadmapInfoModal'), closeBtn: document.getElementById('closeRoadmapInfoModalBtn') },
            };

            const smsPrefillElements = {
                badge: document.getElementById('smsPrefillBadge'),
                title: document.getElementById('smsPrefillTitle'),
                subtitle: document.getElementById('smsPrefillSubtitle'),
                nameInput: document.getElementById('smsPrefillNameInput'),
                error: document.getElementById('smsPrefillError'),
                cancelBtn: document.getElementById('smsPrefillCancelBtn'),
                sendBtn: document.getElementById('smsPrefillSendBtn'),
            };
            const smsPrefillBadgeBaseClasses = 'inline-flex items-center gap-2 text-[10px] uppercase tracking-wide font-semibold px-3 py-1 rounded-full';
            const supportSmsNumber = '18326106820';
            const smsPrefillOptions = {
                diagnostic: {
                    title: 'Request Alarm Diagnostic',
                    subtitle: 'Tell us who weâ€™re helping so we can personalize the diagnostic text for you.',
                    badgeLabel: 'Alarm systems',
                    badgeClasses: 'bg-emerald-50 text-emerald-700',
                    template: 'Name: {name_prefill}, Requesting alarm diagnostic.',
                    context: 'new_install_diagnostic',
                },
                diagnostic_camera: {
                    title: 'Request Camera Diagnostic',
                    subtitle: 'Tell us who weâ€™re helping so we can personalize the diagnostic text for you.',
                    badgeLabel: 'Camera systems',
                    badgeClasses: 'bg-blue-50 text-blue-700',
                    template: 'Name: {name_prefill}, Requesting camera diagnostic.',
                    context: 'new_install_diagnostic_camera',
                },
                diagnostic_alarm: {
                    title: 'Request Alarm Diagnostic',
                    subtitle: 'Tell us who weâ€™re helping so we can personalize the diagnostic text for you.',
                    badgeLabel: 'Alarm systems',
                    badgeClasses: 'bg-emerald-50 text-emerald-700',
                    template: 'Name: {name_prefill}, Requesting alarm diagnostic.',
                    context: 'new_install_diagnostic_alarm',
                },
                quality: {
                    title: 'Schedule Remote Quality Control',
                    subtitle: 'Weâ€™ll line up a remote QC session at a time that works best for you.',
                    badgeLabel: 'Remote quality',
                    badgeClasses: 'bg-emerald-50 text-emerald-700',
                    template: 'Name: {name_prefill}, requesting scheduled remote quality control.',
                    context: 'new_install_quality',
                },
                salesRep: {
                    title: 'Request My Sales Representative',
                    subtitle: 'Weâ€™ll look up your sales representative and text you their info.',
                    badgeLabel: 'Sales support',
                    badgeClasses: 'bg-amber-50 text-amber-700',
                    template: 'Name: {name_prefill}. Requesting to know who my sales representitive is.',
                    context: 'sales_rep_lookup',
                },
            };
            const smsPrefillState = {
                template: smsPrefillOptions.diagnostic.template,
                context: smsPrefillOptions.diagnostic.context,
                phoneNumber: supportSmsNumber,
            };

            const trackEvent = (name, params = {}) => {
                if (typeof gtag === 'function') {
                    gtag('event', name, params);
                }
            };

            const trackTutorialCompletion = (tutorialId, stepsCount) => {
                const payload = { tutorial_id: tutorialId };
                if (stepsCount) {
                    payload.step_total = stepsCount;
                }
                trackEvent('customer_complete_tutorial', payload);
            };

            // --- CORE NAVIGATION ---
            const showView = (viewToShow) => {
                if (!viewToShow) return;
                const mainContainer = document.querySelector('main');

                mainContainer.classList.add('fade-out-fast');

                mainContainer.addEventListener('transitionend', () => {
                    Object.values(views).forEach(view => {
                        if (view) view.classList.add('hidden');
                    });
                    viewToShow.classList.remove('hidden');
                    mainContainer.classList.remove('fade-out-fast');

                    const viewName = Object.keys(views).find(key => views[key] === viewToShow);
                    if (viewName) {
                        trackEvent('customer_view_page', {
                            page_title: viewName.replace(/([A-Z])/g, ' $1').trim(),
                            page_path: `/${viewName}`
                        });
                    }

                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }, { once: true });
            };

            // --- MODAL LOGIC ---
            const showModal = (modal) => {
                if (modal && modal.el) {
                    modal.el.classList.remove('hidden');
                    setTimeout(() => {
                        const modalContent = modal.el.querySelector('div');
                        if (modalContent) {
                            modalContent.classList.remove('scale-95', 'opacity-0');
                        }
                    }, 20);
                    trackEvent('customer_modal_opened', { modal_id: modal.el.id });
                }
            };

            const hideModal = (modal) => {
                if (modal && modal.el) {
                    const modalContent = modal.el.querySelector('div');
                    if (modalContent) {
                        modalContent.classList.add('scale-95', 'opacity-0');
                    }
                    setTimeout(() => {
                        modal.el.classList.add('hidden');
                    }, 300);
                }
            };

            const replaceNameTokens = (template, nameValue) => template.replace(/\{name(_prefill)?\}/gi, nameValue);
            const setSmsPrefillButtonState = (enabled) => {
                if (!smsPrefillElements.sendBtn) return;
                smsPrefillElements.sendBtn.disabled = !enabled;
                smsPrefillElements.sendBtn.classList.toggle('opacity-60', !enabled);
                smsPrefillElements.sendBtn.classList.toggle('cursor-not-allowed', !enabled);
            };
            const resetSmsPrefillForm = () => {
                if (smsPrefillElements.nameInput) {
                    smsPrefillElements.nameInput.value = '';
                }
                smsPrefillElements.error?.classList.add('hidden');
                setSmsPrefillButtonState(false);
            };
            const openSmsPrefillModal = (type) => {
                const config = smsPrefillOptions[type];
                if (!config || !modals.smsPrefill) return;
                smsPrefillState.template = config.template;
                smsPrefillState.context = config.context;
                smsPrefillState.phoneNumber = config.phoneNumber || supportSmsNumber;
                if (smsPrefillElements.title) smsPrefillElements.title.textContent = config.title;
                if (smsPrefillElements.subtitle) smsPrefillElements.subtitle.textContent = config.subtitle;
                if (smsPrefillElements.badge) {
                    smsPrefillElements.badge.textContent = config.badgeLabel;
                    smsPrefillElements.badge.className = `${smsPrefillBadgeBaseClasses} ${config.badgeClasses || ''}`.trim();
                }
                resetSmsPrefillForm();
                showModal(modals.smsPrefill);
            };
            smsPrefillElements.nameInput?.addEventListener('input', () => {
                smsPrefillElements.error?.classList.add('hidden');
                const hasValue = !!smsPrefillElements.nameInput.value.trim();
                setSmsPrefillButtonState(hasValue);
            });
            smsPrefillElements.cancelBtn?.addEventListener('click', () => hideModal(modals.smsPrefill));
            smsPrefillElements.sendBtn?.addEventListener('click', () => {
                const enteredName = smsPrefillElements.nameInput?.value.trim();
                if (!enteredName) {
                    smsPrefillElements.error?.classList.remove('hidden');
                    smsPrefillElements.nameInput?.focus();
                    setSmsPrefillButtonState(false);
                    return;
                }
                const message = replaceNameTokens(smsPrefillState.template, enteredName);
                const smsUrl = `sms:${smsPrefillState.phoneNumber}?body=${encodeURIComponent(message)}`;
                trackEvent('customer_contact_action', { channel: 'text', context: smsPrefillState.context });
                hideModal(modals.smsPrefill);
                setTimeout(() => {
                    window.location.href = smsUrl;
                }, 200);
            });

            Object.values(modals).forEach(modal => {
                if (modal.openBtn) modal.openBtn.addEventListener('click', () => showModal(modal));
                if (modal.closeBtn) modal.closeBtn.addEventListener('click', () => hideModal(modal));
                if (modal.el) {
                    modal.el.addEventListener('click', (event) => {
                        if (event.target === modal.el) {
                            hideModal(modal);
                        }
                    });
                }
            });

            const prepControllers = {};
            const tutorialMeta = {};

            const nvrWithMonitor = document.getElementById('nvrWithMonitor');
            const nvrWithoutMonitor = document.getElementById('nvrWithoutMonitor');
            const monitorYesBtn = document.getElementById('monitorYesBtn');
            const monitorNoBtn = document.getElementById('monitorNoBtn');
            const monitorQuestionCard = document.getElementById('monitorQuestionCard');
            const monitorPrompt = document.getElementById('monitorPrompt');

            const toggleMonitorButtonState = (button, isActive) => {
                if (!button) return;
                button.classList.toggle('bg-blue-600', isActive);
                button.classList.toggle('text-white', isActive);
                button.classList.toggle('border-blue-600', isActive);
                button.classList.toggle('shadow-sm', isActive);
                button.classList.toggle('bg-white', !isActive);
                button.classList.toggle('text-gray-700', !isActive);
                button.classList.toggle('border-blue-200', !isActive);
            };

            const setMonitorView = (hasMonitor) => {
                if (!nvrWithMonitor || !nvrWithoutMonitor) return;

                nvrWithMonitor.classList.toggle('hidden', !hasMonitor);
                nvrWithoutMonitor.classList.toggle('hidden', hasMonitor);

                toggleMonitorButtonState(monitorYesBtn, hasMonitor);
                toggleMonitorButtonState(monitorNoBtn, !hasMonitor);
                monitorPrompt?.classList.add('hidden');
                monitorQuestionCard?.classList.add('hidden');

                trackEvent('customer_workflow_selected', { workflow_id: hasMonitor ? 'nvr_monitor_option' : 'nvr_no_monitor_option' });

                if (hasMonitor) {
                    prepControllers['nvr-steps']?.();
                } else {
                    prepControllers['nvrWithoutMonitorSteps']?.();
                }
            };

            const resetMonitorSelection = () => {
                nvrWithMonitor?.classList.add('hidden');
                nvrWithoutMonitor?.classList.add('hidden');
                toggleMonitorButtonState(monitorYesBtn, false);
                toggleMonitorButtonState(monitorNoBtn, false);
                monitorPrompt?.classList.remove('hidden');
                monitorQuestionCard?.classList.remove('hidden');
                prepControllers['nvr-steps']?.();
                prepControllers['nvrWithoutMonitorSteps']?.();
            };

            monitorYesBtn?.addEventListener('click', () => setMonitorView(true));
            monitorNoBtn?.addEventListener('click', () => setMonitorView(false));
            resetMonitorSelection();

            // --- EVENT LISTENERS ---

            // Main Menu
            document.getElementById('newInstallBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'new_install_checklist' });
                showView(views.newInstall);
            });
            document.getElementById('selfServiceBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'dashboard_self_service' });
                showView(views.selfService);
            });
            document.getElementById('remoteSupportBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'dashboard_remote_support' });
                showView(views.welcome);
            });

            // Welcome View (Prepare for Support)
            document.getElementById('cameraBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'prep_camera' });
                showView(views.camera);
            });
            document.getElementById('accessBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'prep_access' });
                showView(views.access);
            });
            document.getElementById('alarmBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'prep_alarm' });
                showModal(modals.alarmPanel);
            });

            // Self-Service View
            document.getElementById('troubleshootCameraBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'selfservice_camera' });
                showView(views.cameraTroubleshooting);
            });
            document.getElementById('troubleshootAlarmBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'selfservice_alarm' });
                showView(views.alarmTroubleshooting);
            });

            // Camera Troubleshooting View
            document.getElementById('dmssTutorialBtn')?.addEventListener('click', () => {
                resetMonitorSelection();
                trackEvent('customer_workflow_selected', { workflow_id: 'camera_dmss_nvr' });
                showView(views.dmssTutorial);
            });
            document.getElementById('nvrTutorialSystemBtn')?.addEventListener('click', () => {
                resetMonitorSelection();
                trackEvent('customer_workflow_selected', { workflow_id: 'camera_dmss_nvr' });
                showView(views.dmssTutorial);
            });
            document.getElementById('routerFirmwareBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'router_firmware' });
                showView(views.routerFirmware);
            });

            // Alarm Troubleshooting View
            document.getElementById('batteryTutorialBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'alarm_battery_tutorial' });
                showView(views.batteryTutorial);
            });
            document.getElementById('panelIssuesBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'alarm_panel_workflow' });
                showView(views.panelIssues);
            });
            document.getElementById('sensorIssuesBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'alarm_sensor_workflow' });
                showView(views.sensorIssues);
            });

            // Back Buttons
            document.getElementById('welcomeBackBtn')?.addEventListener('click', () => showView(views.choice));
            document.getElementById('selfServiceBackBtn')?.addEventListener('click', () => showView(views.choice));
            document.getElementById('cameraTroubleshootingBackBtn')?.addEventListener('click', () => showView(views.selfService));
            document.getElementById('alarmTroubleshootingBackBtn')?.addEventListener('click', () => showView(views.selfService));
            document.getElementById('batteryTutorialBackBtn')?.addEventListener('click', () => showView(views.alarmTroubleshooting));
            document.getElementById('dmssTutorialBackBtn')?.addEventListener('click', () => {
                resetMonitorSelection();
                showView(views.cameraTroubleshooting);
            });
            document.getElementById('cameraBackBtn')?.addEventListener('click', () => showView(views.welcome));
            document.getElementById('cameraFinishedBtn')?.addEventListener('click', () => {
                const meta = tutorialMeta['camera-steps'];
                trackTutorialCompletion(meta?.analyticsId || 'camera_prep', meta?.stepsCount);
                prepControllers['camera-steps']?.();
                showView(views.choice);
            });
            document.getElementById('newInstallBackBtn')?.addEventListener('click', () => showView(views.choice));
            document.getElementById('accessBackBtn')?.addEventListener('click', () => showView(views.welcome));
            document.getElementById('accessFinishedBtn')?.addEventListener('click', () => {
                const meta = tutorialMeta['accessSteps'];
                trackTutorialCompletion(meta?.analyticsId || 'access_prep', meta?.stepsCount);
                prepControllers['accessSteps']?.();
                showView(views.choice);
            });
            document.getElementById('alarmHubBackBtn')?.addEventListener('click', () => showView(views.welcome));
            document.getElementById('panelIssuesBackBtn')?.addEventListener('click', () => showView(views.alarmHub));
            document.getElementById('sensorIssuesBackBtn')?.addEventListener('click', () => showView(views.alarmHub));
            document.getElementById('panelFinishedBtn')?.addEventListener('click', () => {
                const meta = tutorialMeta['panelIssuesSteps'];
                trackTutorialCompletion(meta?.analyticsId || 'alarm_panel_workflow', meta?.stepsCount);
                prepControllers['panelIssuesSteps']?.();
                showView(views.alarmHub);
            });
            document.getElementById('sensorFinishedBtn')?.addEventListener('click', () => {
                const meta = tutorialMeta['sensorIssuesSteps'];
                trackTutorialCompletion(meta?.analyticsId || 'alarm_sensor_workflow', meta?.stepsCount);
                prepControllers['sensorIssuesSteps']?.();
                showView(views.alarmHub);
            });
            document.getElementById('routerFirmwareBackBtn')?.addEventListener('click', () => showView(views.cameraTroubleshooting));
            document.getElementById('nvrFinishedBtn')?.addEventListener('click', () => {
                const inMonitorFlow = nvrWithMonitor && !nvrWithMonitor.classList.contains('hidden');
                const metaKey = inMonitorFlow ? 'nvr-steps' : 'nvrWithoutMonitorSteps';
                const meta = tutorialMeta[metaKey];
                trackTutorialCompletion(meta?.analyticsId || (inMonitorFlow ? 'nvr_monitor_flow' : 'nvr_no_monitor_flow'), meta?.stepsCount);
                resetMonitorSelection();
                showView(views.cameraTroubleshooting);
            });
            document.getElementById('routerFirmwareFinishedBtn')?.addEventListener('click', () => {
                const meta = tutorialMeta['routerFirmware'];
                trackTutorialCompletion(meta?.analyticsId || 'router_firmware', meta?.stepsCount);
                showView(views.cameraTroubleshooting);
            });

            // Firmware Alert
            const firmwareAlert = document.getElementById('firmwareAlert');
            document.getElementById('closeFirmwareAlert')?.addEventListener('click', () => firmwareAlert.style.display = 'none');
            document.getElementById('firmwareGoBtn')?.addEventListener('click', () => {
                trackEvent('customer_firmware_launch', {});
                showView(views.routerFirmware);
            });

            // Special Modals
            document.getElementById('continueToAlarmBtn')?.addEventListener('click', () => { hideModal(modals.alarmPanel); showView(views.alarmHub); });
            document.getElementById('backFromAlarmModalBtn')?.addEventListener('click', () => { hideModal(modals.alarmPanel); showView(views.welcome); });
            document.getElementById('diagnosticTextLink')?.addEventListener('click', () => {
                trackEvent('customer_diagnostic_requested', { channel: 'sms', context: 'alarm_diagnostic' });
            });

            document.getElementById('newInstallTrainingBtn')?.addEventListener('click', () => {
                trackEvent('customer_modal_opened', { modal_id: 'trainingModal', source: 'new_install' });
                showModal(modals.training);
            });
            document.getElementById('openRoadmapModalBtn')?.addEventListener('click', () => {
                trackEvent('customer_modal_opened', { modal_id: 'roadmapInfoModal', source: 'new_install' });
                showModal(modals.roadmapInfo);
            });
            document.getElementById('newInstallQualityBtn')?.addEventListener('click', () => {
                trackEvent('customer_quality_control_requested', { channel: 'sms', context: 'new_install' });
                openSmsPrefillModal('quality');
            });
            document.getElementById('newInstallUpgradeBtn')?.addEventListener('click', () => {
                trackEvent('customer_upgrade_inquiry', { channel: 'email', context: 'new_install' });
            });
            document.getElementById('openRoadmapModalBtn')?.addEventListener('click', () => {
                trackEvent('customer_modal_opened', { modal_id: 'roadmapInfoModal', source: 'new_install' });
                showModal(modals.roadmapInfo);
            });
            // Diagnostic Selection Logic
            let selectedDiagnosticType = null;
            const diagnosticTypeCamera = document.getElementById('diagnosticTypeCamera');
            const diagnosticTypeAlarm = document.getElementById('diagnosticTypeAlarm');
            const newInstallDiagnosticBtn = document.getElementById('newInstallDiagnosticBtn');

            const updateDiagnosticSelection = (type) => {
                selectedDiagnosticType = type;

                // Reset styles
                [diagnosticTypeCamera, diagnosticTypeAlarm].forEach(btn => {
                    if (btn) {
                        btn.classList.remove('bg-emerald-50', 'border-emerald-500', 'bg-blue-50', 'border-blue-500');
                        btn.classList.add('border-gray-200', 'opacity-50');
                    }
                });

                // Apply active style
                if (type === 'camera' && diagnosticTypeCamera) {
                    diagnosticTypeCamera.classList.remove('border-gray-200', 'opacity-50');
                    diagnosticTypeCamera.classList.add('bg-blue-50', 'border-blue-500');
                } else if (type === 'alarm' && diagnosticTypeAlarm) {
                    diagnosticTypeAlarm.classList.remove('border-gray-200', 'opacity-50');
                    diagnosticTypeAlarm.classList.add('bg-emerald-50', 'border-emerald-500');
                }

                // Enable main button
                if (newInstallDiagnosticBtn) {
                    newInstallDiagnosticBtn.disabled = false;
                    newInstallDiagnosticBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
            };

            diagnosticTypeCamera?.addEventListener('click', () => {
                updateDiagnosticSelection('camera');
                trackEvent('customer_diagnostic_type_selected', { diagnostic_type: 'camera' });
            });
            diagnosticTypeAlarm?.addEventListener('click', () => {
                updateDiagnosticSelection('alarm');
                trackEvent('customer_diagnostic_type_selected', { diagnostic_type: 'alarm' });
            });

            document.getElementById('salesRepRequestBtn')?.addEventListener('click', () => {
                trackEvent('customer_sales_rep_request', { channel: 'sms', context: 'sales_rep_lookup' });
                hideModal(modals.roadmapInfo);
                setTimeout(() => openSmsPrefillModal('salesRep'), 200);
            });
            document.getElementById('newInstallFirmwareBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'new_install_firmware' });
                showView(views.routerFirmware);
            });
            document.getElementById('newInstallCameraPrepBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'new_install_camera_prep' });
                showView(views.camera);
            });
            document.getElementById('newInstallAlarmPrepBtn')?.addEventListener('click', () => {
                trackEvent('customer_workflow_selected', { workflow_id: 'new_install_alarm_prep' });
                showModal(modals.alarmPanel);
            });

            // Updated Diagnostic Button Listener
            newInstallDiagnosticBtn?.addEventListener('click', () => {
                if (!selectedDiagnosticType) return;
                const context = selectedDiagnosticType === 'camera' ? 'diagnostic_camera' : 'diagnostic_alarm';
                trackEvent('customer_diagnostic_requested', { channel: 'sms', context: `new_install_${selectedDiagnosticType}` });
                openSmsPrefillModal(context);
            });

            const setupRouterFirmwareSteps = () => {
                const stepsContainer = document.getElementById('router-firmware-steps');
                if (!stepsContainer) return;
                const steps = Array.from(stepsContainer.querySelectorAll('.router-firmware-step'));
                if (!steps.length) return;
                const progressLabel = document.getElementById('routerFirmwareProgressLabel');
                const progressBar = document.getElementById('routerFirmwareProgressBar');
                let currentStep = 0;
                tutorialMeta['routerFirmware'] = { stepsCount: steps.length, analyticsId: 'router_firmware' };

                const updateProgress = () => {
                    steps.forEach((step, index) => {
                        step.classList.toggle('hidden', index !== currentStep);
                    });
                    if (progressLabel) {
                        progressLabel.textContent = `Step ${currentStep + 1} of ${steps.length}`;
                    }
                    if (progressBar) {
                        progressBar.style.width = `${((currentStep + 1) / steps.length) * 100}%`;
                    }
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    trackEvent('customer_tutorial_step', {
                        tutorial_id: 'router_firmware',
                        step_index: currentStep + 1
                    });
                };

                stepsContainer.addEventListener('click', (event) => {
                    if (event.target.closest('.next-btn-router') && currentStep < steps.length - 1) {
                        currentStep++;
                        updateProgress();
                    }
                    if (event.target.closest('.prev-btn-router') && currentStep > 0) {
                        currentStep--;
                        updateProgress();
                    }
                });

                updateProgress();
            };

            setupRouterFirmwareSteps();

            const setupLinearPrep = ({ containerId, nextSelector, prevSelector, progressLabelId, progressBarId, analyticsId }) => {
                const container = document.getElementById(containerId);
                if (!container) return;
                const steps = Array.from(container.querySelectorAll('.camera-prep-step'));
                if (!steps.length) return;
                const progressLabel = progressLabelId ? document.getElementById(progressLabelId) : null;
                const progressBar = progressBarId ? document.getElementById(progressBarId) : null;
                let currentStep = 0;
                tutorialMeta[containerId] = { stepsCount: steps.length, analyticsId };

                const updateView = () => {
                    steps.forEach((step, index) => {
                        step.classList.toggle('hidden', index !== currentStep);
                        const badge = step.querySelector('.camera-step-badge');
                        if (badge) {
                            if (index < currentStep) {
                                badge.classList.add('completed');
                                badge.classList.remove('active');
                                badge.textContent = 'âœ“';
                            } else if (index === currentStep) {
                                badge.classList.add('active');
                                badge.classList.remove('completed');
                                badge.textContent = index + 1;
                            } else {
                                badge.classList.remove('active', 'completed');
                                badge.textContent = index + 1;
                            }
                        }
                    });

                    if (progressLabel) {
                        progressLabel.textContent = `Step ${currentStep + 1} of ${steps.length}`;
                    }
                    if (progressBar) {
                        progressBar.style.width = `${((currentStep + 1) / steps.length) * 100}%`;
                    }
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    if (analyticsId) {
                        trackEvent('customer_tutorial_step', {
                            tutorial_id: analyticsId,
                            step_index: currentStep + 1
                        });
                    }
                };

                container.addEventListener('click', (event) => {
                    if (event.target.closest(nextSelector) && currentStep < steps.length - 1) {
                        currentStep++;
                        updateView();
                    }
                    if (event.target.closest(prevSelector) && currentStep > 0) {
                        currentStep--;
                        updateView();
                    }
                });

                const reset = () => {
                    currentStep = 0;
                    updateView();
                };
                prepControllers[containerId] = reset;

                updateView();
            };

            const setupCollapsibleCards = () => {
                const cards = document.querySelectorAll('[data-collapsible-card]');
                cards.forEach(card => {
                    const openBtn = card.querySelector('[data-open-card]');
                    const closeBtn = card.querySelector('[data-close-card]');
                    const content = card.querySelector('[data-collapsible-content]');
                    if (!openBtn || !closeBtn || !content) return;

                    const setState = (isOpen) => {
                        content.classList.toggle('hidden', !isOpen);
                        openBtn.classList.toggle('hidden', isOpen);
                        closeBtn.classList.toggle('hidden', !isOpen);
                        card.setAttribute('data-expanded', isOpen ? 'true' : 'false');
                        content.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
                    };

                    setState(false);
                    openBtn.addEventListener('click', () => setState(true));
                    closeBtn.addEventListener('click', () => setState(false));
                });
            };

            setupLinearPrep({
                containerId: 'camera-steps',
                nextSelector: '.next-btn-camera',
                prevSelector: '.prev-btn-camera',
                progressLabelId: 'cameraProgressLabel',
                progressBarId: 'cameraProgressBar',
                analyticsId: 'camera_prep'
            });

            setupLinearPrep({
                containerId: 'accessSteps',
                nextSelector: '.next-btn-access',
                prevSelector: '.prev-btn-access',
                progressLabelId: 'accessProgressLabel',
                progressBarId: 'accessProgressBar',
                analyticsId: 'access_prep'
            });

            setupLinearPrep({
                containerId: 'panelIssuesSteps',
                nextSelector: '.next-btn-panel',
                prevSelector: '.prev-btn-panel',
                progressLabelId: 'panelProgressLabel',
                progressBarId: 'panelProgressBar',
                analyticsId: 'alarm_panel_workflow'
            });

            setupLinearPrep({
                containerId: 'sensorIssuesSteps',
                nextSelector: '.next-btn-sensor',
                prevSelector: '.prev-btn-sensor',
                progressLabelId: 'sensorProgressLabel',
                progressBarId: 'sensorProgressBar',
                analyticsId: 'alarm_sensor_workflow'
            });

            setupLinearPrep({
                containerId: 'nvr-steps',
                nextSelector: '.next-btn-nvr',
                prevSelector: '.prev-btn-nvr',
                progressLabelId: 'nvrProgressLabel',
                progressBarId: 'nvrProgressBar',
                analyticsId: 'nvr_monitor_flow'
            });

            setupLinearPrep({
                containerId: 'nvrWithoutMonitorSteps',
                nextSelector: '.next-btn-nvr-no-monitor',
                prevSelector: '.prev-btn-nvr-no-monitor',
                progressLabelId: 'nvrWithoutMonitorProgressLabel',
                progressBarId: 'nvrWithoutMonitorProgressBar',
                analyticsId: 'nvr_no_monitor_flow'
            });

            setupCollapsibleCards();

            // --- PHONE POPUP ---
            const phoneActionPopup = document.getElementById('phoneActionPopup');
            const callLink = document.getElementById('callLink');
            const textLink = document.getElementById('textLink');
            let currentContactContext = 'support_number';

            document.querySelectorAll('.phone-action-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const container = button.closest('.phone-number-container') || button.closest('[data-number]');
                    const phoneNumber = container?.dataset.number || button.dataset.number;
                    currentContactContext = container?.dataset.contactContext || button.dataset.contactContext || 'support_number';
                    if (!phoneNumber) return;
                    callLink.href = `tel:${phoneNumber}`;
                    textLink.href = `sms:${phoneNumber}`;

                    const rect = button.getBoundingClientRect();
                    phoneActionPopup.style.left = `${rect.left + window.scrollX}px`;
                    phoneActionPopup.style.top = `${rect.bottom + window.scrollY}px`;

                    phoneActionPopup.classList.remove('hidden');
                });
            });

            document.addEventListener('click', (e) => {
                if (!phoneActionPopup.contains(e.target) && !e.target.closest('.phone-action-btn')) {
                    phoneActionPopup.classList.add('hidden');
                }
            });

            callLink?.addEventListener('click', () => {
                trackEvent('customer_contact_action', { channel: 'call', context: currentContactContext });
            });
            textLink?.addEventListener('click', () => {
                trackEvent('customer_contact_action', { channel: 'text', context: currentContactContext });
            });

            document.querySelectorAll('a[href^="mailto:"]').forEach(link => {
                link.addEventListener('click', () => {
                    trackEvent('customer_contact_action', { channel: 'email', context: link.dataset.contactContext || 'email_link' });
                });
            });

            document.addEventListener('click', (event) => {
                const telAnchor = event.target.closest('a[href^="tel:"]');
                if (telAnchor && telAnchor !== callLink) {
                    trackEvent('customer_contact_action', { channel: 'call', context: telAnchor.dataset.contactContext || 'tel_link' });
                }
                const smsAnchor = event.target.closest('a[href^="sms:"]');
                if (smsAnchor && smsAnchor !== textLink) {
                    trackEvent('customer_contact_action', { channel: 'text', context: smsAnchor.dataset.contactContext || 'sms_link' });
                }
            });

            // --- INITIALIZATION ---
            window.addEventListener('load', () => {
                const mainContent = document.querySelector('main');
                const choiceView = document.getElementById('choiceView');
                if (mainContent && choiceView) {
                    mainContent.classList.remove('opacity-0');
                    choiceView.classList.remove('hidden');

                    trackEvent('customer_view_page', {
                        page_title: 'Choice',
                        page_path: '/choice'
                    });
                }
            });

            // --- GUIDE SEARCH FUNCTIONALITY ---
            const filterGuides = (searchId, gridId, emptyStateId) => {
                const searchInput = document.getElementById(searchId);
                const grid = document.getElementById(gridId);
                const emptyState = document.getElementById(emptyStateId);

                if (!searchInput || !grid || !emptyState) return;

                const cards = Array.from(grid.querySelectorAll('.guide-card, .video-card'));

                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value.toLowerCase();
                    let hasResults = false;

                    cards.forEach(card => {
                        const title = card.dataset.title?.toLowerCase() || '';
                        const category = card.dataset.category?.toLowerCase() || '';
                        const match = title.includes(query) || category.includes(query);

                        if (match) {
                            hasResults = true;
                            card.classList.remove('hidden');
                        } else {
                            card.classList.add('hidden');
                        }
                    });

                    if (hasResults) {
                        emptyState.classList.add('hidden');
                        grid.classList.remove('hidden');
                    } else {
                        emptyState.classList.remove('hidden');
                        grid.classList.add('hidden');
                    }

                    // Track search queries (debounced)
                    if (query.length >= 3) {
                        trackEvent('customer_search_query', {
                            search_context: searchId.replace('Search', ''),
                            query_length: query.length,
                            results_count: cards.filter(c => !c.classList.contains('hidden')).length
                        });
                    }
                });
            };

            filterGuides('cameraSearch', 'cameraGuidesGrid', 'cameraEmptyState');
            filterGuides('alarmSearch', 'alarmGuidesGrid', 'alarmEmptyState');

            // --- VIDEO PLAYER LOGIC ---
            const videoModal = document.getElementById('videoModal');
            const videoModalContent = document.getElementById('videoModalContent');
            const videoPlayerFrame = document.getElementById('videoPlayerFrame');
            const videoModalTitle = document.getElementById('videoModalTitle');
            const closeVideoModalBtn = document.getElementById('closeVideoModal');
            const videoCards = document.querySelectorAll('.video-card');

            const openVideoModal = (videoId, title) => {
                videoModal.classList.remove('hidden');
                setTimeout(() => {
                    videoModal.classList.remove('opacity-0');
                    videoModalContent.classList.remove('scale-95');
                    videoModalContent.classList.add('scale-100');
                }, 10);
                videoPlayerFrame.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1`;
                videoModalTitle.textContent = title;

                // Track video views
                trackEvent('customer_video_view', {
                    video_id: videoId,
                    video_title: title
                });
            };

            const closeVideoModal = () => {
                videoModal.classList.add('opacity-0');
                videoModalContent.classList.remove('scale-100');
                videoModalContent.classList.add('scale-95');
                setTimeout(() => {
                    videoModal.classList.add('hidden');
                    videoPlayerFrame.src = '';
                }, 300);
            };

            videoCards.forEach(card => {
                card.addEventListener('click', () => {
                    const videoId = card.dataset.videoId;
                    const title = card.dataset.videoTitle;
                    if (videoId) openVideoModal(videoId, title);
                });
            });

            if (closeVideoModalBtn) closeVideoModalBtn.addEventListener('click', closeVideoModal);

            if (videoModal) {
                videoModal.addEventListener('click', (e) => {
                    if (e.target === videoModal) closeVideoModal();
                });
            }

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && videoModal && !videoModal.classList.contains('hidden')) {
                    closeVideoModal();
                }
            });

            // --- PHONE CALL TRACKING ---
            // Track all phone call attempts via tel: links
            document.querySelectorAll('a[href^="tel:"]').forEach(link => {
                link.addEventListener('click', () => {
                    const phoneNumber = link.href.replace('tel:', '');
                    const context = link.closest('[data-contact-context]')?.dataset.contactContext || 'unknown';
                    trackEvent('customer_contact_action', {
                        channel: 'phone',
                        context: context,
                        phone_number: phoneNumber
                    });
                });
            });
        });
    </script>

    <!-- Video Player Modal -->
    <div id="videoModal"
        class="fixed inset-0 z-50 hidden bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 opacity-0 transition-opacity duration-300">
        <div class="relative w-full max-w-5xl bg-black rounded-2xl overflow-hidden shadow-2xl transform scale-95 transition-transform duration-300"
            id="videoModalContent">
            <button id="closeVideoModal"
                class="absolute top-4 right-4 z-10 text-white/70 hover:text-white bg-black/50 hover:bg-black/80 rounded-full p-2 transition-all">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <div class="aspect-video w-full">
                <iframe id="videoPlayerFrame" class="w-full h-full" src="" title="YouTube video player" frameborder="0"
                    allowfullscreen></iframe>
            </div>
            <div class="p-4 bg-gray-900 text-white">
                <h3 id="videoModalTitle" class="text-lg font-bold"></h3>
            </div>
        </div>
    </div>
</body>

</html>
